const a0_0x4192=['MainScene','animationMixer','keydown-D','isSkinnedMesh','EffectComposer','animationMixers','accessThirdDimension','__awaiter','./assets/fbx/Soldier/','ShaderReplacement\x20:\x20Material\x20for\x20object\x20was\x20not\x20cached\x20before\x20resetting.','setDefine','isMesh','vertexShader','__importDefault','addPass','FullScreenQuad','Pass','phaser-game','overrideUniforms','directionalLight','movementX','castShadow','defineProperty','value','dispose','THREE','shift','Canvas','ShaderMaterial','ambientLight','load','has','ShaderPass','toStringTag','ShaderReplacement','object','current','./assets/ammo','innerHeight','renderToScreen','forEach','DepthTexture','skinning','exports','setAngularVelocityY','ShaderReplacement\x20:\x20Material\x20for\x20object\x20was\x20not\x20cached\x20before\x20replacing\x20shader.','near','ShaderLib','modifiedDefines','physics','Scale','hookToMethod','ApplyToonShader','clone','opacity','roughnessMap','applyAxisAngle','isArray','abs','webpackJsonp','next','throw','createMaterial','call','mountCamera','splice','animations','resolution','DrawOutlinePass','mousePointer','pointerdown','preload','\x0avarying\x20vec2\x20vUv;\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vUv\x20=\x20uv;\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(position,\x201.0);\x0a}\x0a','assign','renderer','isShaderMaterial','cinematic','setVelocity','bind','position','overrideDefines','innerWidth','FXAAShader','Vector3','anims','withPhysics','render','.fbx','then','keyup-D','fragmentShader','setRenderTarget','_replacementMaterial','Color','box','phong','play','composer','keyup-W','Game','PreloadScene','existing','__esModule','\x0a//\x20<packing>\x20comes\x20from\x20threejs\x20and\x20we\x20are\x20using\x20its\x20perspectiveDepthToViewZ\x20and\x20viewZToOrthographicDepth\x20functions.\x0a//\x20This\x20will\x20ensure\x20it\x20easily\x20works\x20within\x20the\x20threejs\x20ecosystem.\x20(As\x20opposed\x20to\x20writing\x20our\x20own\x20functions)\x0a#include\x20<packing>\x0auniform\x20sampler2D\x20originalTexture;\x0auniform\x20sampler2D\x20depthTexture;\x0auniform\x20sampler2D\x20normalTexture;\x0auniform\x20float\x20cameraNear;\x0auniform\x20float\x20cameraFar;\x0auniform\x20vec4\x20screenSize;\x0auniform\x20vec3\x20outlineColor;\x0avarying\x20vec2\x20vUv;\x0a\x0a//\x20Function\x20prototypes\x0afloat\x20saturate(float\x20num);\x0afloat\x20depthAt(int\x20x,\x20int\x20y);\x0avec3\x20normalAt(int\x20x,\x20int\x20y);\x0a\x0avoid\x20main()\x20{\x0a\x09vec4\x20sceneColor\x20=\x20texture2D(originalTexture,\x20vUv);\x0a\x09float\x20depth\x20=\x20depthAt(0,\x200);\x0a\x09vec3\x20normal\x20=\x20normalAt(0,\x200);\x0a\x0a\x09//\x20Get\x20the\x20difference\x20between\x20depth\x20of\x20neighboring\x20pixels\x20and\x20current.\x0a\x09float\x20depthDiff\x20=\x200.0;\x0a\x09depthDiff\x20+=\x20abs(depth\x20-\x20depthAt(1,\x200));\x0a\x09depthDiff\x20+=\x20abs(depth\x20-\x20depthAt(-1,\x200));\x0a\x09depthDiff\x20+=\x20abs(depth\x20-\x20depthAt(0,\x201));\x0a\x09depthDiff\x20+=\x20abs(depth\x20-\x20depthAt(0,\x20-1));\x0a\x0a\x09//\x20Get\x20the\x20difference\x20between\x20normals\x20of\x20neighboring\x20pixels\x20and\x20current\x0a\x09float\x20normalDiff\x20=\x200.0;\x0a\x09normalDiff\x20+=\x20distance(normal,\x20normalAt(1,\x200));\x0a\x09normalDiff\x20+=\x20distance(normal,\x20normalAt(0,\x201));\x0a\x09normalDiff\x20+=\x20distance(normal,\x20normalAt(0,\x201));\x0a\x09normalDiff\x20+=\x20distance(normal,\x20normalAt(0,\x20-1));\x0a\x0a\x09normalDiff\x20+=\x20distance(normal,\x20normalAt(1,\x201));\x0a\x09normalDiff\x20+=\x20distance(normal,\x20normalAt(1,\x20-1));\x0a\x09normalDiff\x20+=\x20distance(normal,\x20normalAt(-1,\x201));\x0a\x09normalDiff\x20+=\x20distance(normal,\x20normalAt(-1,\x20-1));\x0a\x0a\x09depthDiff\x20=\x20saturate(depthDiff);\x0a\x09normalDiff\x20=\x20saturate(normalDiff);\x0a\x0a\x0a\x09float\x20outline\x20=\x20normalDiff\x20+\x20depthDiff;\x0a\x09//\x20Combine\x20outline\x20with\x20scene\x20color.\x0a\x09vec4\x20outlineColor\x20=\x20vec4(outlineColor,\x201.0);\x0a\x09gl_FragColor\x20=\x20vec4(mix(sceneColor,\x20outlineColor,\x20outline));\x0a}\x0a\x0afloat\x20saturate(float\x20num)\x20{\x0a\x09return\x20clamp(num,\x200.0,\x201.0);\x0a}\x0a\x0afloat\x20depthAt(int\x20x,\x20int\x20y)\x20{\x0a\x09//\x20Get\x20point\x20from\x20texture\x20coordinates\x20and\x20screen\x20size.\x0a\x09vec2\x20point\x20=\x20vUv\x20+\x20screenSize.zw\x20*\x20vec2(x,\x20y);\x0a\x09//\x20Sample\x20depth\x20texture\x20and\x20get\x20z\x20value.\x0a\x09float\x20fragCoordZ\x20=\x20texture2D(depthTexture,\x20point).x;\x0a\x09//\x20Convert\x20from\x20clip\x20space\x20to\x20view\x20space.\x0a\x09float\x20viewZ\x20=\x20perspectiveDepthToViewZ(\x20fragCoordZ,\x20cameraNear,\x20cameraFar\x20);\x0a\x09//\x20Convert\x20from\x20view\x20space\x20to\x20orthographic\x20depth.\x0a\x09float\x20orthoDepth\x20=\x20viewZToOrthographicDepth(\x20viewZ,\x20cameraNear,\x20cameraFar\x20);\x0a\x09return\x20orthoDepth;\x0a}\x0a\x0avec3\x20normalAt(int\x20x,\x20int\x20y)\x20{\x0a\x09return\x20texture2D(normalTexture,\x20vUv\x20+\x20screenSize.zw\x20*\x20vec2(x,\x20y)).rgb;\x0a}\x0a','done','side','undefined','finalize','_replacementMaterials','player','receiveShadow','toggleDepthBufferWriting','default','third','worldLights','far','init','add','create','model','SHIFT','prevMouse','material','movementY','scene','ThirdPersonControls','hasOwnProperty','enable3d','isDown','replace','FIT','modifiedUniforms','normalRenderingTarget','slice','\x0a#define\x20PHONG\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20vec3\x20specular;\x0auniform\x20float\x20shininess;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<uv2_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_pars_fragment>\x0a#include\x20<cube_uv_reflection_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<lights_phong_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<specularmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<specularmap_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_phong_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse\x20+\x20reflectedLight.directSpecular\x20+\x20reflectedLight.indirectSpecular\x20+\x20totalEmissiveRadiance;\x0a\x09#include\x20<envmap_fragment>\x0a\x09gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<encodings_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a\x0a\x20\x20\x20\x20/**\x20TOON\x20SHADING\x20MODIFICATIONS\x20START\x20HERE\x20************************************************************************/\x0a\x20\x20\x20\x20//\x20Now\x20try\x20to\x20set\x20all\x20colors\x20to\x20some\x20preset\x20magnitudes\x0a\x20\x20\x20\x20vec3\x20before\x20=\x20gl_FragColor.rgb;\x0a\x20\x20\x20\x20//\x20Determine\x20what\x20the\x20thresholds\x20should\x20be\x20based\x20on\x20number\x20of\x20thresholds\x0a\x20\x20\x20\x20//\x20and\x20maximum\x20color\x20intensity\x0a\x20\x20\x20\x20const\x20int\x20numThresholds\x20=\x204;\x0a\x20\x20\x20\x20float\x20maxThreshold\x20=\x20sqrt(3.0);\x0a\x20\x20\x20\x20float\x20minThreshold\x20=\x200.0;\x0a\x20\x20\x20\x20float\x20thresholds[numThresholds];\x0a\x20\x20\x20\x20for\x20(int\x20i\x20=\x200;\x20i\x20<\x20numThresholds;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20thresholds[i]\x20=\x20minThreshold\x20+\x20(maxThreshold\x20-\x20minThreshold)\x20*\x20(float(i)\x20/\x20float(numThresholds\x20-\x201));\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20//\x20Get\x20the\x20magnitude\x20of\x20the\x20color\x0a\x20\x20\x20\x20float\x20mag\x20=\x20length(before);\x0a\x20\x20\x20\x20//\x20Get\x20the\x20index\x20of\x20the\x20threshold\x20that\x20is\x20closest\x20to\x20the\x20magnitude\x0a\x20\x20\x20\x20int\x20index\x20=\x200;\x0a\x20\x20\x20\x20for\x20(int\x20i\x20=\x200;\x20i\x20<\x20numThresholds;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(abs(thresholds[i]\x20-\x20mag)\x20<\x20abs(thresholds[index]\x20-\x20mag))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20index\x20=\x20i;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20//\x20Scale\x20the\x20color\x20so\x20its\x20magnitude\x20is\x20equal\x20to\x20the\x20threshold\x0a\x20\x20\x20\x20gl_FragColor.rgb\x20=\x20before\x20*\x20(thresholds[index]\x20/\x20mag);\x0a\x20\x20\x20\x20/**\x20TOON\x20SHADING\x20MODIFICATIONS\x20END\x20HERE\x20**************************************************************************/\x0a\x0a}\x0a','get','set','fbx','shaderQuad','mixer','WEBGL','apply','hemisphereLight','pointermove','string','push','camera','length','keyup-S','update','Walk','keyup-A','addKey','locked','defines','updateUniforms','normal','reset','key_shift','getWorldDirection','texture','__createBinding','error','multiplyScalar','traverse','createOutlinePostProcessMaterial','spawnPlayer','keydown-C','body','isTexture','delete','Idle','needsUpdate','uniforms','setTextureUniform','depthBuffer','WebGLRenderTarget','keyboard','input','depthTexture','__importStar','controls','Vector2','Vector4','metalnessMap','prototype','start'];(function(_0x42e8e0,_0x419239){const _0x56f282=function(_0x2c9f40){while(--_0x2c9f40){_0x42e8e0['push'](_0x42e8e0['shift']());}};_0x56f282(++_0x419239);}(a0_0x4192,0x17d));const a0_0x56f2=function(_0x42e8e0,_0x419239){_0x42e8e0=_0x42e8e0-0x0;let _0x56f282=a0_0x4192[_0x42e8e0];return _0x56f282;};!function(_0x884295){function _0xda4d4a(_0x2decc3){for(var _0x2e278a,_0x45ad62,_0x1424c0=_0x2decc3[0x0],_0x24724a=_0x2decc3[0x1],_0x26976e=_0x2decc3[0x2],_0x4939a2=0x0,_0x396100=[];_0x4939a2<_0x1424c0[a0_0x56f2('0x8c')];_0x4939a2++)_0x45ad62=_0x1424c0[_0x4939a2],Object[a0_0x56f2('0xb2')]['hasOwnProperty'][a0_0x56f2('0x38')](_0xb7a98b,_0x45ad62)&&_0xb7a98b[_0x45ad62]&&_0x396100[a0_0x56f2('0x8a')](_0xb7a98b[_0x45ad62][0x0]),_0xb7a98b[_0x45ad62]=0x0;for(_0x2e278a in _0x24724a)Object['prototype'][a0_0x56f2('0x77')][a0_0x56f2('0x38')](_0x24724a,_0x2e278a)&&(_0x884295[_0x2e278a]=_0x24724a[_0x2e278a]);for(_0xe2a01c&&_0xe2a01c(_0x2decc3);_0x396100[a0_0x56f2('0x8c')];)_0x396100[a0_0x56f2('0x13')]()();return _0x5377e1[a0_0x56f2('0x8a')][a0_0x56f2('0x86')](_0x5377e1,_0x26976e||[]),_0x3c76b0();}function _0x3c76b0(){for(var _0x5eb044,_0xf93b8b=0x0;_0xf93b8b<_0x5377e1[a0_0x56f2('0x8c')];_0xf93b8b++){for(var _0xa8ab64=_0x5377e1[_0xf93b8b],_0x43a0b2=!0x0,_0x506f02=0x1;_0x506f02<_0xa8ab64[a0_0x56f2('0x8c')];_0x506f02++){var _0x477abb=_0xa8ab64[_0x506f02];0x0!==_0xb7a98b[_0x477abb]&&(_0x43a0b2=!0x1);}_0x43a0b2&&(_0x5377e1[a0_0x56f2('0x3a')](_0xf93b8b--,0x1),_0x5eb044=_0x1a258c(_0x1a258c['s']=_0xa8ab64[0x0]));}return _0x5eb044;}var _0x5e2628={},_0xb7a98b={0:0x0},_0x5377e1=[];function _0x1a258c(_0xbfc85){if(_0x5e2628[_0xbfc85])return _0x5e2628[_0xbfc85][a0_0x56f2('0x24')];var _0x33adde=_0x5e2628[_0xbfc85]={'i':_0xbfc85,'l':!0x1,'exports':{}};return _0x884295[_0xbfc85][a0_0x56f2('0x38')](_0x33adde[a0_0x56f2('0x24')],_0x33adde,_0x33adde['exports'],_0x1a258c),_0x33adde['l']=!0x0,_0x33adde['exports'];}_0x1a258c['m']=_0x884295,_0x1a258c['c']=_0x5e2628,_0x1a258c['d']=function(_0x1a00fb,_0x5bb401,_0x5c5795){_0x1a258c['o'](_0x1a00fb,_0x5bb401)||Object[a0_0x56f2('0xf')](_0x1a00fb,_0x5bb401,{'enumerable':!0x0,'get':_0x5c5795});},_0x1a258c['r']=function(_0x5d1460){a0_0x56f2('0x63')!=typeof Symbol&&Symbol['toStringTag']&&Object[a0_0x56f2('0xf')](_0x5d1460,Symbol[a0_0x56f2('0x1a')],{'value':'Module'}),Object[a0_0x56f2('0xf')](_0x5d1460,'__esModule',{'value':!0x0});},_0x1a258c['t']=function(_0x53196b,_0x2af8fa){if(0x1&_0x2af8fa&&(_0x53196b=_0x1a258c(_0x53196b)),0x8&_0x2af8fa)return _0x53196b;if(0x4&_0x2af8fa&&a0_0x56f2('0x1c')==typeof _0x53196b&&_0x53196b&&_0x53196b['__esModule'])return _0x53196b;var _0x3d2d82=Object[a0_0x56f2('0x6f')](null);if(_0x1a258c['r'](_0x3d2d82),Object[a0_0x56f2('0xf')](_0x3d2d82,a0_0x56f2('0x69'),{'enumerable':!0x0,'value':_0x53196b}),0x2&_0x2af8fa&&a0_0x56f2('0x89')!=typeof _0x53196b)for(var _0x1a3ab7 in _0x53196b)_0x1a258c['d'](_0x3d2d82,_0x1a3ab7,function(_0x343824){return _0x53196b[_0x343824];}[a0_0x56f2('0x47')](null,_0x1a3ab7));return _0x3d2d82;},_0x1a258c['n']=function(_0x202bf4){var _0x47377e=_0x202bf4&&_0x202bf4[a0_0x56f2('0x5f')]?function(){return _0x202bf4[a0_0x56f2('0x69')];}:function(){return _0x202bf4;};return _0x1a258c['d'](_0x47377e,'a',_0x47377e),_0x47377e;},_0x1a258c['o']=function(_0x57d2b4,_0x400c3a){return Object[a0_0x56f2('0xb2')][a0_0x56f2('0x77')][a0_0x56f2('0x38')](_0x57d2b4,_0x400c3a);},_0x1a258c['p']='/Coursework-Project-Computer-Graphics/';var _0x4a8620=window['webpackJsonp']=window[a0_0x56f2('0x34')]||[],_0x1f6edb=_0x4a8620[a0_0x56f2('0x8a')][a0_0x56f2('0x47')](_0x4a8620);_0x4a8620[a0_0x56f2('0x8a')]=_0xda4d4a,_0x4a8620=_0x4a8620[a0_0x56f2('0x7e')]();for(var _0x511242=0x0;_0x511242<_0x4a8620[a0_0x56f2('0x8c')];_0x511242++)_0xda4d4a(_0x4a8620[_0x511242]);var _0xe2a01c=_0x1f6edb;_0x5377e1['push']([0x6,0x1]),_0x3c76b0();}([,,,,,,function(_0x5ef58b,_0x181fd9,_0x230625){_0x5ef58b[a0_0x56f2('0x24')]=_0x230625(0x7);},function(_0xf3aa9f,_0x26a095,_0x156203){'use strict';var _0x1cf77b=this&&this[a0_0x56f2('0x9a')]||(Object[a0_0x56f2('0x6f')]?function(_0x60421c,_0x230178,_0x38018a,_0x183723){void 0x0===_0x183723&&(_0x183723=_0x38018a),Object['defineProperty'](_0x60421c,_0x183723,{'enumerable':!0x0,'get':function(){return _0x230178[_0x38018a];}});}:function(_0x3c581f,_0x3a6d21,_0x5ac05f,_0x33b769){void 0x0===_0x33b769&&(_0x33b769=_0x5ac05f),_0x3c581f[_0x33b769]=_0x3a6d21[_0x5ac05f];}),_0x5a0af3=this&&this['__setModuleDefault']||(Object[a0_0x56f2('0x6f')]?function(_0x6f1b0b,_0x34dbb1){Object[a0_0x56f2('0xf')](_0x6f1b0b,'default',{'enumerable':!0x0,'value':_0x34dbb1});}:function(_0xce3791,_0x372d2d){_0xce3791[a0_0x56f2('0x69')]=_0x372d2d;}),_0x3e16be=this&&this[a0_0x56f2('0xad')]||function(_0x3f376a){if(_0x3f376a&&_0x3f376a[a0_0x56f2('0x5f')])return _0x3f376a;var _0x3d5789={};if(null!=_0x3f376a)for(var _0x20a10a in _0x3f376a)a0_0x56f2('0x69')!==_0x20a10a&&Object[a0_0x56f2('0x77')][a0_0x56f2('0x38')](_0x3f376a,_0x20a10a)&&_0x1cf77b(_0x3d5789,_0x3f376a,_0x20a10a);return _0x5a0af3(_0x3d5789,_0x3f376a),_0x3d5789;},_0x5ea364=this&&this[a0_0x56f2('0x6')]||function(_0x3e317a){return _0x3e317a&&_0x3e317a[a0_0x56f2('0x5f')]?_0x3e317a:{'default':_0x3e317a};};Object['defineProperty'](_0x26a095,a0_0x56f2('0x5f'),{'value':!0x0});const _0x15e5d7=_0x3e16be(_0x156203(0x5)),_0x61810c=_0x156203(0x4),_0x109fb2=_0x5ea364(_0x156203(0xc)),_0x14e1cd=_0x5ea364(_0x156203(0x13)),_0x34a484=Object[a0_0x56f2('0x42')]({'type':_0x15e5d7[a0_0x56f2('0x85')],'transparent':!0x0,'scale':{'mode':_0x15e5d7[a0_0x56f2('0x2b')][a0_0x56f2('0x7b')],'autoCenter':_0x15e5d7[a0_0x56f2('0x2b')]['CENTER_BOTH'],'width':0x500,'height':0x2d0},'scene':[_0x14e1cd[a0_0x56f2('0x69')],_0x109fb2[a0_0x56f2('0x69')]]},_0x61810c[a0_0x56f2('0x14')]({'canvasId':a0_0x56f2('0xa')}));window['addEventListener']('load',()=>{_0x61810c[a0_0x56f2('0x78')](()=>new _0x15e5d7[(a0_0x56f2('0x5c'))](_0x34a484))[a0_0x56f2('0x4e')](a0_0x56f2('0x1e'));});},,,,,function(_0x3d43c0,_0x3c725d,_0x3ef530){'use strict';var _0x49f9f3=this&&this[a0_0x56f2('0x0')]||function(_0x393095,_0x1cadce,_0x56957d,_0x59aa37){return new(_0x56957d||(_0x56957d=Promise))(function(_0x37d1c2,_0x44b1e3){function _0x17e80b(_0x129c65){try{_0x3ba66e(_0x59aa37[a0_0x56f2('0x35')](_0x129c65));}catch(_0x1ab3e0){_0x44b1e3(_0x1ab3e0);}}function _0x1f6940(_0x3ca37c){try{_0x3ba66e(_0x59aa37['throw'](_0x3ca37c));}catch(_0x103704){_0x44b1e3(_0x103704);}}function _0x3ba66e(_0x3a6dee){var _0x493f0e;_0x3a6dee[a0_0x56f2('0x61')]?_0x37d1c2(_0x3a6dee[a0_0x56f2('0x10')]):(_0x493f0e=_0x3a6dee[a0_0x56f2('0x10')],_0x493f0e instanceof _0x56957d?_0x493f0e:new _0x56957d(function(_0x2e8e62){_0x2e8e62(_0x493f0e);}))[a0_0x56f2('0x51')](_0x17e80b,_0x1f6940);}_0x3ba66e((_0x59aa37=_0x59aa37[a0_0x56f2('0x86')](_0x393095,_0x1cadce||[]))[a0_0x56f2('0x35')]());});},_0x2fd91d=this&&this[a0_0x56f2('0x6')]||function(_0x34e972){return _0x34e972&&_0x34e972['__esModule']?_0x34e972:{'default':_0x34e972};};Object[a0_0x56f2('0xf')](_0x3c725d,'__esModule',{'value':!0x0});const _0x2ec7b7=_0x3ef530(0x4),_0xe81425=_0x3ef530(0x15),_0x3451e4=_0x3ef530(0xd),_0x19e71e=_0x3ef530(0x10),_0x1e3cbd=_0x3ef530(0x11),_0x48c131=_0x3ef530(0x0),_0x3a8753=_0x2fd91d(_0x3ef530(0x12));class _0x195b21 extends _0x2ec7b7['Scene3D']{constructor(){super({'key':'MainScene'}),this['prevMouse']=null,this['controls']=null,this['player']=null,this['key_shift']=null,this[a0_0x56f2('0x45')]=!0x1;}['init'](){this[a0_0x56f2('0xba')]();}['create'](){return _0x49f9f3(this,void 0x0,void 0x0,function*(){this['input']['on'](a0_0x56f2('0x3f'),_0x12df16=>{this[a0_0x56f2('0xab')]['mouse']['requestPointerLock']();}),this['key_shift']=this[a0_0x56f2('0xab')]['keyboard'][a0_0x56f2('0x91')](a0_0x56f2('0x71')),this[a0_0x56f2('0xab')][a0_0x56f2('0xaa')]['on'](a0_0x56f2('0xa0'),()=>{this[a0_0x56f2('0x45')]=!this[a0_0x56f2('0x45')];});const {lights:_0x2c91fa}=yield this[a0_0x56f2('0x6a')]['warpSpeed']();this[a0_0x56f2('0x6b')]=_0x2c91fa,this[a0_0x56f2('0x6b')][a0_0x56f2('0x16')]['intensity']=0.2,this[a0_0x56f2('0x6b')][a0_0x56f2('0x87')]['intensity']=0.5,this[a0_0x56f2('0x6b')][a0_0x56f2('0xc')]['intensity']=0x2;const _0x374108=new _0x2ec7b7[(a0_0x56f2('0x12'))][(a0_0x56f2('0x22'))](window[a0_0x56f2('0x4a')],window[a0_0x56f2('0x1f')]),_0x18b581=new _0x2ec7b7[(a0_0x56f2('0x12'))][(a0_0x56f2('0xa9'))](window[a0_0x56f2('0x4a')],window[a0_0x56f2('0x1f')],{'depthTexture':_0x374108,'depthBuffer':!0x0});this[a0_0x56f2('0x6a')][a0_0x56f2('0x5a')]=new _0x2ec7b7[(a0_0x56f2('0xb8'))](this[a0_0x56f2('0x6a')][a0_0x56f2('0x43')],_0x18b581);const _0x3fb421=new _0x2ec7b7['RenderPass'](this[a0_0x56f2('0x6a')][a0_0x56f2('0x75')],this[a0_0x56f2('0x6a')]['camera']);this[a0_0x56f2('0x6a')][a0_0x56f2('0x5a')][a0_0x56f2('0x7')](_0x3fb421);const _0x395b4a=new _0x3451e4['DrawOutlinePass'](new _0x2ec7b7['THREE'][(a0_0x56f2('0xaf'))](window[a0_0x56f2('0x4a')],window[a0_0x56f2('0x1f')]),this['third']['scene'],this[a0_0x56f2('0x6a')][a0_0x56f2('0x8b')]);this[a0_0x56f2('0x6a')][a0_0x56f2('0x5a')][a0_0x56f2('0x7')](_0x395b4a);const _0x7b829f=new _0x2ec7b7[(a0_0x56f2('0x19'))](_0x19e71e[a0_0x56f2('0x4b')]);_0x7b829f[a0_0x56f2('0xa6')][a0_0x56f2('0x3c')][a0_0x56f2('0x10')][a0_0x56f2('0x81')](0x1/window[a0_0x56f2('0x4a')],0x1/window[a0_0x56f2('0x1f')]),this[a0_0x56f2('0x6a')][a0_0x56f2('0x5a')][a0_0x56f2('0x7')](_0x7b829f);const _0x31d028=yield this[a0_0x56f2('0x9f')](0x0,0x2,-0x5,!0x0);this[a0_0x56f2('0x66')]=_0x31d028;this[a0_0x56f2('0xab')][a0_0x56f2('0xaa')]['on']('keydown-W',()=>{let _0x7751a3=new _0x48c131[(a0_0x56f2('0x4c'))]();this[a0_0x56f2('0x6a')]['camera'][a0_0x56f2('0x98')](_0x7751a3);const _0x290c23=_0x7751a3['multiplyScalar'](0x5);_0x31d028[a0_0x56f2('0xa1')]['setVelocity'](_0x290c23['x'],0x0,_0x290c23['z']),a0_0x56f2('0x8f')!=_0x31d028['anims'][a0_0x56f2('0x1d')]&&_0x31d028[a0_0x56f2('0x4d')][a0_0x56f2('0x59')](a0_0x56f2('0x8f'));}),this['input']['keyboard']['on'](a0_0x56f2('0x5b'),()=>{_0x31d028['body'][a0_0x56f2('0x46')](0x0,0x0,0x0),a0_0x56f2('0xa4')!=_0x31d028[a0_0x56f2('0x4d')][a0_0x56f2('0x1d')]&&_0x31d028['anims'][a0_0x56f2('0x59')]('Idle');}),this['input'][a0_0x56f2('0xaa')]['on']('keydown-A',()=>{let _0x2cc8ed=new _0x48c131[(a0_0x56f2('0x4c'))]();this['third'][a0_0x56f2('0x8b')][a0_0x56f2('0x98')](_0x2cc8ed);const _0x56bb8c=_0x2cc8ed[a0_0x56f2('0x31')](new _0x48c131[(a0_0x56f2('0x4c'))](0x0,0x1,0x0),Math['PI']/0x2)[a0_0x56f2('0x9c')](0x5);_0x31d028['body'][a0_0x56f2('0x46')](_0x56bb8c['x'],0x0,_0x56bb8c['z']);}),this[a0_0x56f2('0xab')][a0_0x56f2('0xaa')]['on'](a0_0x56f2('0x90'),()=>{_0x31d028[a0_0x56f2('0xa1')]['setVelocity'](0x0,0x0,0x0);}),this[a0_0x56f2('0xab')][a0_0x56f2('0xaa')]['on']('keydown-S',()=>{let _0x3550f8=new _0x48c131[(a0_0x56f2('0x4c'))]();this[a0_0x56f2('0x6a')]['camera'][a0_0x56f2('0x98')](_0x3550f8);const _0x2debe2=_0x3550f8[a0_0x56f2('0x9c')](-2.5);_0x31d028[a0_0x56f2('0xa1')][a0_0x56f2('0x46')](_0x2debe2['x'],0x0,_0x2debe2['z']);}),this[a0_0x56f2('0xab')][a0_0x56f2('0xaa')]['on'](a0_0x56f2('0x8d'),()=>{_0x31d028[a0_0x56f2('0xa1')][a0_0x56f2('0x46')](0x0,0x0,0x0);}),this['input']['keyboard']['on'](a0_0x56f2('0xb6'),()=>{let _0x1f7f21=new _0x48c131[(a0_0x56f2('0x4c'))]();this['third'][a0_0x56f2('0x8b')][a0_0x56f2('0x98')](_0x1f7f21);const _0x3a2498=_0x1f7f21[a0_0x56f2('0x31')](new _0x48c131[(a0_0x56f2('0x4c'))](0x0,0x1,0x0),-Math['PI']/0x2)['multiplyScalar'](0x5);_0x31d028[a0_0x56f2('0xa1')][a0_0x56f2('0x46')](_0x3a2498['x'],0x0,_0x3a2498['z']);}),this[a0_0x56f2('0xab')]['keyboard']['on'](a0_0x56f2('0x52'),()=>{_0x31d028[a0_0x56f2('0xa1')][a0_0x56f2('0x46')](0x0,0x0,0x0);}),this[a0_0x56f2('0x66')]&&(this[a0_0x56f2('0xae')]=this[a0_0x56f2('0x66')]['mountCamera']()),this[a0_0x56f2('0xab')]['on'](a0_0x56f2('0x88'),_0x16b05e=>{var _0x5e065b,_0x239a25,_0x30eefc;if(_0x16b05e[a0_0x56f2('0x92')])null===(_0x5e065b=this['controls'])||void 0x0===_0x5e065b||_0x5e065b['update'](_0x16b05e[a0_0x56f2('0xd')],_0x16b05e[a0_0x56f2('0x74')]);else if(this[a0_0x56f2('0x72')]&&(null===(_0x239a25=this[a0_0x56f2('0x97')])||void 0x0===_0x239a25?void 0x0:_0x239a25[a0_0x56f2('0x79')])){const _0xb3cc4c=_0x16b05e['x']-this[a0_0x56f2('0x72')]['x'],_0x9969dd=_0x16b05e['y']-this[a0_0x56f2('0x72')]['y'];null===(_0x30eefc=this['controls'])||void 0x0===_0x30eefc||_0x30eefc[a0_0x56f2('0x8e')](_0xb3cc4c,_0x9969dd);}this[a0_0x56f2('0x72')]={'x':_0x16b05e['x'],'y':_0x16b05e['y']};}),_0x1e3cbd[a0_0x56f2('0x2c')](_0x31d028[a0_0x56f2('0xb5')],a0_0x56f2('0x8e'),()=>{_0x31d028['traverse'](_0x134d35=>{_0x134d35[a0_0x56f2('0x4')];});});});}[a0_0x56f2('0x8e')](){var _0x3cafcc;this[a0_0x56f2('0xae')]&&this['controls'][a0_0x56f2('0x8e')](0x0,0x0),this[a0_0x56f2('0xab')][a0_0x56f2('0x3e')][a0_0x56f2('0x92')]&&!this['cinematic']&&(null===(_0x3cafcc=this[a0_0x56f2('0x66')])||void 0x0===_0x3cafcc||_0x3cafcc[a0_0x56f2('0x8e')]());}['spawnPlayer'](_0x12bfe9,_0x389dd4,_0x559fb4,_0x4b33b2){return _0x49f9f3(this,void 0x0,void 0x0,function*(){const _0x489c23=new _0x3a8753[(a0_0x56f2('0x69'))](this,!0x1);return yield _0x489c23[a0_0x56f2('0x17')](),_0x489c23[a0_0x56f2('0x4d')][a0_0x56f2('0x59')](a0_0x56f2('0xa4')),_0x489c23['traverse'](_0x2db06b=>{_0x2db06b[a0_0x56f2('0x4')]&&_0x4b33b2&&_0xe81425[a0_0x56f2('0x2d')](_0x2db06b,0x4);}),_0x489c23[a0_0x56f2('0x9d')](_0x117350=>{_0x117350[a0_0x56f2('0x4')]&&(_0x117350[a0_0x56f2('0xe')]=_0x117350[a0_0x56f2('0x67')]=!0x0);}),_0x489c23['scale'][a0_0x56f2('0x81')](0.03,0.03,0.03),_0x489c23[a0_0x56f2('0x48')][a0_0x56f2('0x81')](_0x12bfe9,_0x389dd4,_0x559fb4),this[a0_0x56f2('0x6a')][a0_0x56f2('0x6e')]['existing'](_0x489c23),this[a0_0x56f2('0x6a')][a0_0x56f2('0x2a')][a0_0x56f2('0x6e')][a0_0x56f2('0x5e')](_0x489c23,{'shape':a0_0x56f2('0x57'),'width':0x32,'height':0xa0,'depth':0x32,'offset':{'x':0x0,'y':-2.5,'z':0x0},'mass':0x3e8}),_0x489c23;});}}_0x3c725d[a0_0x56f2('0x69')]=_0x195b21;},function(_0x57659e,_0x38eb5a,_0x559d92){'use strict';var _0x557821=this&&this[a0_0x56f2('0x9a')]||(Object[a0_0x56f2('0x6f')]?function(_0x450e60,_0x184a02,_0x337d07,_0xc71310){void 0x0===_0xc71310&&(_0xc71310=_0x337d07),Object['defineProperty'](_0x450e60,_0xc71310,{'enumerable':!0x0,'get':function(){return _0x184a02[_0x337d07];}});}:function(_0x4d37c4,_0x396a21,_0x3d171d,_0x250290){void 0x0===_0x250290&&(_0x250290=_0x3d171d),_0x4d37c4[_0x250290]=_0x396a21[_0x3d171d];}),_0x4b0243=this&&this['__setModuleDefault']||(Object[a0_0x56f2('0x6f')]?function(_0x49dcf8,_0x4d3b8f){Object['defineProperty'](_0x49dcf8,a0_0x56f2('0x69'),{'enumerable':!0x0,'value':_0x4d3b8f});}:function(_0x2c94e1,_0x151927){_0x2c94e1[a0_0x56f2('0x69')]=_0x151927;}),_0x51f77a=this&&this[a0_0x56f2('0xad')]||function(_0x50db5d){if(_0x50db5d&&_0x50db5d[a0_0x56f2('0x5f')])return _0x50db5d;var _0x59442b={};if(null!=_0x50db5d)for(var _0x5875f7 in _0x50db5d)a0_0x56f2('0x69')!==_0x5875f7&&Object['hasOwnProperty'][a0_0x56f2('0x38')](_0x50db5d,_0x5875f7)&&_0x557821(_0x59442b,_0x50db5d,_0x5875f7);return _0x4b0243(_0x59442b,_0x50db5d),_0x59442b;},_0x2dfb4d=this&&this[a0_0x56f2('0x6')]||function(_0x4f9878){return _0x4f9878&&_0x4f9878['__esModule']?_0x4f9878:{'default':_0x4f9878};};Object['defineProperty'](_0x38eb5a,a0_0x56f2('0x5f'),{'value':!0x0}),_0x38eb5a[a0_0x56f2('0x3d')]=void 0x0;const _0x385e3f=_0x51f77a(_0x559d92(0x0)),_0xe8b831=_0x559d92(0x0),_0x5547ea=_0x559d92(0x2),_0x1e1588=_0x559d92(0x14),_0x455945=_0x2dfb4d(_0x559d92(0xe)),_0x179d01=_0x2dfb4d(_0x559d92(0xf));class _0x433435 extends _0x5547ea[a0_0x56f2('0x9')]{constructor(_0xd85b5,_0x5eb103,_0x339551){super(),this[a0_0x56f2('0xa8')]=null,this[a0_0x56f2('0x75')]=_0x5eb103,this[a0_0x56f2('0x8b')]=_0x339551,this[a0_0x56f2('0x3c')]=new _0x385e3f[(a0_0x56f2('0xaf'))](_0xd85b5['x'],_0xd85b5['y']),this['shaderQuad']=new _0x5547ea[(a0_0x56f2('0x9'))][(a0_0x56f2('0x8'))](),this[a0_0x56f2('0x83')][a0_0x56f2('0x73')]=this[a0_0x56f2('0x9e')](),this['normalRenderingTarget']=new _0x385e3f['WebGLRenderTarget'](this['resolution']['x'],this['resolution']['y']);}['dispose'](){this[a0_0x56f2('0x7d')]['dispose'](),this[a0_0x56f2('0x83')][a0_0x56f2('0x11')]();}['render'](_0x256955,_0x209cc4,_0x5cb997){this[a0_0x56f2('0x68')](_0x209cc4),_0x256955[a0_0x56f2('0x54')](this[a0_0x56f2('0x7d')]);const _0x12d408=new _0x1e1588[(a0_0x56f2('0x1b'))](_0xe8b831[a0_0x56f2('0x28')][a0_0x56f2('0x95')]);_0x12d408[a0_0x56f2('0x7a')](this['scene'],!0x0,!0x0),_0x256955[a0_0x56f2('0x4f')](this[a0_0x56f2('0x75')],this[a0_0x56f2('0x8b')]),_0x12d408[a0_0x56f2('0x96')](this[a0_0x56f2('0x75')],!0x0),this['shaderQuad']['material']['uniforms'][a0_0x56f2('0xac')][a0_0x56f2('0x10')]=_0x5cb997[a0_0x56f2('0xac')],this['shaderQuad']['material'][a0_0x56f2('0xa6')]['normalTexture'][a0_0x56f2('0x10')]=this[a0_0x56f2('0x7d')]['texture'],this['shaderQuad'][a0_0x56f2('0x73')][a0_0x56f2('0xa6')]['originalTexture']['value']=_0x5cb997[a0_0x56f2('0x99')],this[a0_0x56f2('0x20')]?(_0x256955[a0_0x56f2('0x54')](null),this[a0_0x56f2('0x83')][a0_0x56f2('0x4f')](_0x256955)):(_0x256955[a0_0x56f2('0x54')](_0x209cc4),this['shaderQuad'][a0_0x56f2('0x4f')](_0x256955)),this[a0_0x56f2('0x68')](_0x209cc4);}[a0_0x56f2('0x68')](_0x123f99){_0x123f99[a0_0x56f2('0xa8')]?(this[a0_0x56f2('0xa8')]=_0x123f99[a0_0x56f2('0xa8')],_0x123f99[a0_0x56f2('0xa8')]=!0x1):(_0x123f99[a0_0x56f2('0xa8')]=this[a0_0x56f2('0xa8')],this['depthBuffer']=null);}[a0_0x56f2('0x9e')](){return new _0x385e3f[(a0_0x56f2('0x15'))]({'uniforms':{'originalTexture':{'value':null},'depthTexture':{'value':null},'normalTexture':{'value':null},'outlineColor':{'value':new _0x385e3f[(a0_0x56f2('0x56'))](0x0)},'cameraNear':{'value':this['camera'][a0_0x56f2('0x27')]},'cameraFar':{'value':this[a0_0x56f2('0x8b')][a0_0x56f2('0x6c')]},'screenSize':{'value':new _0x385e3f[(a0_0x56f2('0xb0'))](this[a0_0x56f2('0x3c')]['x'],this[a0_0x56f2('0x3c')]['y'],0x1/this[a0_0x56f2('0x3c')]['x'],0x1/this['resolution']['y'])}},'vertexShader':_0x179d01[a0_0x56f2('0x69')],'fragmentShader':_0x455945[a0_0x56f2('0x69')]});}}_0x38eb5a['DrawOutlinePass']=_0x433435;},function(_0x28d6be,_0x45cb33,_0x39a422){'use strict';_0x39a422['r'](_0x45cb33),_0x45cb33[a0_0x56f2('0x69')]=a0_0x56f2('0x60');},function(_0x43c0e5,_0x465f69,_0x4d8331){'use strict';_0x4d8331['r'](_0x465f69),_0x465f69[a0_0x56f2('0x69')]=a0_0x56f2('0x41');},,function(_0xbb1232,_0x36d44a,_0x2d1259){'use strict';Object[a0_0x56f2('0xf')](_0x36d44a,a0_0x56f2('0x5f'),{'value':!0x0}),_0x36d44a[a0_0x56f2('0x2c')]=void 0x0,_0x36d44a['hookToMethod']=function(_0x507ffd,_0x4d5c2f,_0x8db8f8){const _0x54a5d8=_0x507ffd[_0x4d5c2f];_0x507ffd[_0x4d5c2f]=function(..._0x1217d0){return _0x8db8f8[a0_0x56f2('0x38')](this,..._0x1217d0),_0x54a5d8[a0_0x56f2('0x38')](this,..._0x1217d0);};};},function(_0x5c48ea,_0xb582b0,_0xe7924b){'use strict';var _0x1c2148=this&&this[a0_0x56f2('0x0')]||function(_0x36d5f2,_0x21a981,_0x256025,_0x475d8f){return new(_0x256025||(_0x256025=Promise))(function(_0x5446e9,_0x258f10){function _0x88632(_0x54d5f0){try{_0x3908ae(_0x475d8f['next'](_0x54d5f0));}catch(_0x542fcc){_0x258f10(_0x542fcc);}}function _0x51b488(_0x38a9e0){try{_0x3908ae(_0x475d8f[a0_0x56f2('0x36')](_0x38a9e0));}catch(_0x5bd618){_0x258f10(_0x5bd618);}}function _0x3908ae(_0x318c4b){var _0x4cdfd8;_0x318c4b[a0_0x56f2('0x61')]?_0x5446e9(_0x318c4b[a0_0x56f2('0x10')]):(_0x4cdfd8=_0x318c4b[a0_0x56f2('0x10')],_0x4cdfd8 instanceof _0x256025?_0x4cdfd8:new _0x256025(function(_0x2315d5){_0x2315d5(_0x4cdfd8);}))[a0_0x56f2('0x51')](_0x88632,_0x51b488);}_0x3908ae((_0x475d8f=_0x475d8f[a0_0x56f2('0x86')](_0x36d5f2,_0x21a981||[]))[a0_0x56f2('0x35')]());});};Object[a0_0x56f2('0xf')](_0xb582b0,'__esModule',{'value':!0x0});const _0x1df41e=_0xe7924b(0x4),_0x1e926a=_0xe7924b(0x0);class _0x5e72f2 extends _0x1df41e['ExtendedObject3D']{constructor(_0x5aab5e,_0x17fbcf=!0x0){super(),this['animation_keys']=[a0_0x56f2('0xa4'),a0_0x56f2('0x8f')],this['controls']=null,this[a0_0x56f2('0x8b')]=null,this[a0_0x56f2('0x75')]=_0x5aab5e,this[a0_0x56f2('0x6a')]=_0x5aab5e[a0_0x56f2('0x6a')],_0x17fbcf&&this[a0_0x56f2('0x6d')]();}[a0_0x56f2('0x6d')](_0x26e3ea=!0x0){return _0x1c2148(this,void 0x0,void 0x0,function*(){return yield this[a0_0x56f2('0x17')](),this['dispatchEvent']({'type':'initialized'}),_0x26e3ea&&this[a0_0x56f2('0x4d')]['play']('Idle'),this;});}[a0_0x56f2('0x17')](){return _0x1c2148(this,void 0x0,void 0x0,function*(){this[a0_0x56f2('0x70')]=yield this[a0_0x56f2('0x6a')]['load'][a0_0x56f2('0x82')]('./assets/fbx/Soldier.fbx'),this['add'](this[a0_0x56f2('0x70')]),this[a0_0x56f2('0x6a')][a0_0x56f2('0xb9')][a0_0x56f2('0x6e')](this[a0_0x56f2('0x4d')][a0_0x56f2('0x84')]),this['anims'][a0_0x56f2('0x6e')]('Idle',this[a0_0x56f2('0x70')][a0_0x56f2('0x3b')][0x0]);for(let _0x1b9441 of this['animation_keys'])if(a0_0x56f2('0xa4')!==_0x1b9441){const _0x5c83bc=yield this[a0_0x56f2('0x6a')][a0_0x56f2('0x17')][a0_0x56f2('0x82')](a0_0x56f2('0x1')+_0x1b9441+a0_0x56f2('0x50'));this[a0_0x56f2('0x4d')][a0_0x56f2('0x6e')](_0x1b9441,_0x5c83bc[a0_0x56f2('0x3b')][0x0]);}return this['model'];});}[a0_0x56f2('0x39')](_0x4f85bc=this[a0_0x56f2('0x6a')]['camera']){return this[a0_0x56f2('0xae')]=new _0x1df41e[(a0_0x56f2('0x76'))](_0x4f85bc,this,{'offset':new _0x1df41e[(a0_0x56f2('0x12'))][(a0_0x56f2('0x4c'))](-0x2,0x4,0x0),'targetRadius':0x7,'theta':0xb4,'phi':0x19}),this[a0_0x56f2('0x8b')]=_0x4f85bc,this[a0_0x56f2('0xae')];}['update'](){if(this[a0_0x56f2('0x8b')]){let _0x2dc9ef=new _0x1e926a[(a0_0x56f2('0x4c'))]();this[a0_0x56f2('0x8b')][a0_0x56f2('0x98')](_0x2dc9ef);const _0x34b447=Math['atan2'](_0x2dc9ef['x'],_0x2dc9ef['z']);this[a0_0x56f2('0x98')](_0x2dc9ef);let _0x2f0390=_0x34b447-Math['atan2'](_0x2dc9ef['x'],_0x2dc9ef['z']);if(Math[a0_0x56f2('0x33')](_0x2f0390)<0.3)this['body'][a0_0x56f2('0x25')](0x0);else{let _0x20c6e1;_0x2f0390<0x0&&(_0x2f0390+=0x2*Math['PI']),_0x20c6e1=_0x2f0390<Math['PI']?0x5:-0x5,this['body'][a0_0x56f2('0x25')](_0x20c6e1);}}}}_0xb582b0[a0_0x56f2('0x69')]=_0x5e72f2;},function(_0x336576,_0x418631,_0x4a9c50){'use strict';Object[a0_0x56f2('0xf')](_0x418631,a0_0x56f2('0x5f'),{'value':!0x0});class _0x27034c extends Phaser['Scene']{constructor(){super({'key':a0_0x56f2('0x5d')});}[a0_0x56f2('0x40')](){}[a0_0x56f2('0x6f')](){this[a0_0x56f2('0x75')][a0_0x56f2('0xb3')](a0_0x56f2('0xb4'));}}_0x418631[a0_0x56f2('0x69')]=_0x27034c;},function(_0x1c7109,_0x5deaf2,_0x3a13c3){'use strict';_0x3a13c3['r'](_0x5deaf2),_0x3a13c3['d'](_0x5deaf2,'setMaterialDefine',function(){return _0x2f6341;}),_0x3a13c3['d'](_0x5deaf2,a0_0x56f2('0x1b'),function(){return _0x25c60b;});var _0x477549=_0x3a13c3(0x0);class _0x313a97 extends _0x477549[a0_0x56f2('0x15')]{constructor(..._0x15e55a){super(..._0x15e55a),[a0_0x56f2('0x2f'),'map','emissiveMap',a0_0x56f2('0x30'),a0_0x56f2('0xb1')][a0_0x56f2('0x21')](_0x104471=>{Object['defineProperty'](this,_0x104471,{'get'(){if(_0x104471 in this['uniforms'])return this[a0_0x56f2('0xa6')][_0x104471]['value'];},'set'(_0x2c15b0){_0x104471 in this[a0_0x56f2('0xa6')]&&(this['uniforms'][_0x104471][a0_0x56f2('0x10')]=_0x2c15b0);}});});}}class _0x5802d0 extends _0x313a97{constructor(..._0x24d65b){super(..._0x24d65b),this[a0_0x56f2('0x29')]={},this[a0_0x56f2('0x7c')]={};}[a0_0x56f2('0x3')](_0xb0fd41,_0x4ef14d){const _0x228136=this[a0_0x56f2('0x93')],_0x5e6089=this[a0_0x56f2('0x29')];null==_0x4ef14d?_0xb0fd41 in _0x228136&&(_0xb0fd41 in _0x5e6089||(_0x5e6089[_0xb0fd41]=_0x228136[_0xb0fd41]),delete _0x228136[_0xb0fd41]):_0x228136[_0xb0fd41]!==_0x4ef14d&&(_0xb0fd41 in _0x5e6089||(_0x5e6089[_0xb0fd41]=_0xb0fd41 in _0x228136?_0x228136[_0xb0fd41]:void 0x0),_0x228136[_0xb0fd41]=_0x4ef14d);}[a0_0x56f2('0xa7')](_0x588b7a,_0x5bece1){const _0x23dfe3=this[a0_0x56f2('0xa6')],_0x4e4c1e=this[a0_0x56f2('0x7c')];_0x588b7a in _0x4e4c1e||(_0x4e4c1e[_0x588b7a]=_0x23dfe3[_0x588b7a][a0_0x56f2('0x10')]),_0x23dfe3[_0x588b7a][a0_0x56f2('0x10')]=_0x5bece1;}['finalize'](){const _0x433519=this['modifiedDefines'],_0x4a99a6=this[a0_0x56f2('0x93')];for(const _0x5e7029 in _0x433519)void 0x0===_0x433519[_0x5e7029]?_0x5e7029 in _0x4a99a6&&(this[a0_0x56f2('0xa5')]=!0x0):_0x4a99a6[_0x5e7029]!==_0x433519[_0x5e7029]&&(this[a0_0x56f2('0xa5')]=!0x0),delete _0x433519[_0x5e7029];const _0x503cf3=this[a0_0x56f2('0x7c')],_0x2371b7=this[a0_0x56f2('0xa6')];for(const _0x136fed in _0x503cf3)_0x503cf3[_0x136fed]!==_0x2371b7[_0x136fed][a0_0x56f2('0x10')]&&(this['needsUpdate']=!0x0),delete _0x503cf3[_0x136fed];}}function _0x2f6341(_0x155750,_0xa66afc,_0xe3b900){void 0x0===_0xe3b900?_0xa66afc in _0x155750[a0_0x56f2('0x93')]&&(delete _0x155750[a0_0x56f2('0x93')][_0xa66afc],_0x155750[a0_0x56f2('0xa5')]=!0x0):_0xe3b900!==_0x155750[a0_0x56f2('0x93')][_0xa66afc]&&(_0x155750[a0_0x56f2('0x93')][_0xa66afc]=_0xe3b900,_0x155750['needsUpdate']=!0x0);}const _0x57b7ee=new WeakMap();class _0x25c60b{constructor(_0x2c0f7d){this[a0_0x56f2('0x55')]=new _0x5802d0(_0x2c0f7d),this['_replacementMaterials']=new WeakMap(),this[a0_0x56f2('0xb')]={},this[a0_0x56f2('0x49')]={};}[a0_0x56f2('0x7a')](_0x620e85,_0x96fdd9=!0x1,_0x376156=!0x0){const _0x324975=this;function _0x3ee041(_0x4109c1){if(!_0x4109c1[a0_0x56f2('0x4')]&&!_0x4109c1[a0_0x56f2('0xb7')])return;if(!_0x4b8da3[a0_0x56f2('0x18')](_0x4109c1)){const _0xf8284a=_0x324975['createMaterial'](_0x4109c1);_0x4b8da3[a0_0x56f2('0x81')](_0x4109c1,_0xf8284a);}const _0x344966=_0x4b8da3[a0_0x56f2('0x80')](_0x4109c1);if(null===_0x344966)return;let _0x5d3bb4=_0x4109c1[a0_0x56f2('0x73')];_0x376156?_0x3d7b3f['set'](_0x4109c1,_0x5d3bb4):_0x5d3bb4=_0x3d7b3f[a0_0x56f2('0x80')](_0x4109c1),_0x5d3bb4||console['error'](a0_0x56f2('0x26'),_0x4109c1),_0x324975[a0_0x56f2('0x94')](_0x4109c1,_0x5d3bb4,_0x344966),_0x344966[a0_0x56f2('0x64')]&&_0x344966[a0_0x56f2('0x64')](),_0x4109c1[a0_0x56f2('0x73')]=_0x344966;}const _0x4b8da3=this[a0_0x56f2('0x65')],_0x3d7b3f=_0x57b7ee;if(Array[a0_0x56f2('0x32')](_0x620e85))if(_0x96fdd9)for(let _0x3e4368=0x0,_0x360119=_0x620e85[a0_0x56f2('0x8c')];_0x3e4368<_0x360119;_0x3e4368++)_0x620e85[_0x3e4368][a0_0x56f2('0x9d')](_0x3ee041);else for(let _0x1cde9c=0x0,_0x397366=_0x620e85[a0_0x56f2('0x8c')];_0x1cde9c<_0x397366;_0x1cde9c++)_0x3ee041(_0x620e85[_0x1cde9c]);else _0x96fdd9?_0x620e85[a0_0x56f2('0x9d')](_0x3ee041):_0x3ee041(_0x620e85);}[a0_0x56f2('0x96')](_0x48bc20,_0x304410){function _0x3ac4a1(_0x194e43){_0x1f1dd6[a0_0x56f2('0x18')](_0x194e43)?(_0x194e43[a0_0x56f2('0x73')]=_0x1f1dd6[a0_0x56f2('0x80')](_0x194e43),_0x1f1dd6[a0_0x56f2('0xa3')](_0x194e43)):(_0x194e43[a0_0x56f2('0xb7')]||_0x194e43[a0_0x56f2('0x4')])&&console[a0_0x56f2('0x9b')](a0_0x56f2('0x2'),_0x194e43);}const _0x1f1dd6=_0x57b7ee;if(Array[a0_0x56f2('0x32')](_0x48bc20))if(_0x304410)for(let _0x485713=0x0,_0x53e8c8=_0x48bc20[a0_0x56f2('0x8c')];_0x485713<_0x53e8c8;_0x485713++)_0x3ac4a1(_0x48bc20[_0x485713]);else for(let _0x3b7c4d=0x0,_0x50afd8=_0x48bc20[a0_0x56f2('0x8c')];_0x3b7c4d<_0x50afd8;_0x3b7c4d++)_0x48bc20[_0x3b7c4d]['traverse'](_0x3ac4a1);else _0x304410?_0x48bc20[a0_0x56f2('0x9d')](_0x3ac4a1):_0x3ac4a1(_0x48bc20);}[a0_0x56f2('0x37')](_0x582955){return this[a0_0x56f2('0x55')][a0_0x56f2('0x2e')]();}[a0_0x56f2('0x94')](_0x381921,_0x261936,_0x21e8da){const _0x14999d=this['_replacementMaterial'][a0_0x56f2('0x93')],_0x176a7e=_0x261936[a0_0x56f2('0x93')],_0x5e4e10=_0x21e8da[a0_0x56f2('0x93')];if(_0x21e8da['side']=_0x261936[a0_0x56f2('0x62')],_0x21e8da['flatShading']=_0x261936['flatShading'],_0x21e8da['skinning']=_0x261936[a0_0x56f2('0x23')],_0x176a7e){for(const _0x4a342b in _0x176a7e)_0x21e8da['setDefine'](_0x4a342b,_0x176a7e[_0x4a342b]);for(const _0x1e215e in _0x5e4e10)_0x1e215e in _0x176a7e?_0x21e8da[a0_0x56f2('0x3')](_0x1e215e,_0x176a7e[_0x1e215e]):_0x21e8da[a0_0x56f2('0x3')](_0x1e215e,_0x14999d[_0x1e215e]);}const _0x441047=_0x21e8da['uniforms'];if(_0x261936[a0_0x56f2('0x44')]){const _0x2791d1=_0x261936[a0_0x56f2('0xa6')];for(const _0x3850da in _0x441047){const _0x26539b=_0x2791d1[_0x3850da],_0x2e47fb=_0x441047[_0x3850da];_0x26539b&&_0x26539b[a0_0x56f2('0x10')]!==_0x2e47fb[a0_0x56f2('0x10')]&&(_0x2e47fb[a0_0x56f2('0x10')]&&_0x2e47fb[a0_0x56f2('0x10')]['isTexture']||_0x26539b[a0_0x56f2('0x10')]&&_0x26539b['value']['isTexture']?_0x21e8da[a0_0x56f2('0xa7')](_0x3850da,_0x26539b[a0_0x56f2('0x10')]):_0x2e47fb[a0_0x56f2('0x10')]=_0x26539b[a0_0x56f2('0x10')]);}}else for(const _0x52ec34 in _0x441047){const _0x222d1d=_0x441047[_0x52ec34];_0x52ec34 in _0x261936&&_0x261936[_0x52ec34]!==_0x222d1d['value']&&(_0x222d1d[a0_0x56f2('0x10')]&&_0x222d1d[a0_0x56f2('0x10')][a0_0x56f2('0xa2')]||_0x261936[_0x52ec34]&&_0x261936[_0x52ec34][a0_0x56f2('0xa2')]?_0x21e8da['setTextureUniform'](_0x52ec34,_0x261936[_0x52ec34]):_0x222d1d[a0_0x56f2('0x10')]=_0x261936[_0x52ec34]);}const {overrideDefines:_0x5da95c,overrideUniforms:_0x401e91}=this;for(const _0x1e0265 in _0x5da95c)null===_0x5da95c[_0x1e0265]||void 0x0===_0x5da95c[_0x1e0265]?delete _0x5e4e10[_0x1e0265]:_0x5e4e10[_0x1e0265]!==_0x5da95c[_0x1e0265]&&(_0x5e4e10[_0x1e0265]=_0x5da95c[_0x1e0265],_0x21e8da[a0_0x56f2('0xa5')]=!0x0);for(const _0x5ed769 in _0x401e91)_0x5ed769 in _0x441047&&(_0x441047[_0x5ed769][a0_0x56f2('0x10')]=_0x401e91[_0x5ed769][a0_0x56f2('0x10')]);}['dispose'](){}}},function(_0x5268fd,_0x20427d,_0x483209){'use strict';_0x483209['r'](_0x20427d),_0x483209['d'](_0x20427d,a0_0x56f2('0x2d'),function(){return _0x8e923c;}),_0x483209['d'](_0x20427d,'ToonPhShaderPackage',function(){return _0x285f9f;});var _0x1d226d=_0x483209(0x0),_0x3335c9=a0_0x56f2('0x7f');function _0x8e923c(_0x45dfb6,_0x4c1c85){_0x45dfb6[a0_0x56f2('0x73')]['onBeforeCompile']=_0x474ea2=>{_0x474ea2[a0_0x56f2('0x53')]=_0x3335c9;};}const _0x285f9f={'defines':{'PHONG':''},'uniforms':_0x1d226d['ShaderLib'][a0_0x56f2('0x58')][a0_0x56f2('0xa6')],'vertexShader':_0x1d226d[a0_0x56f2('0x28')][a0_0x56f2('0x58')][a0_0x56f2('0x5')],'fragmentShader':_0x3335c9};}]);