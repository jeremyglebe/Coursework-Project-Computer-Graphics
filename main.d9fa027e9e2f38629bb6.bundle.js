const a0_0x400a=['undefined','splice','then','atan2','isShaderMaterial','length','fragmentShader','toggleDepthBufferWriting','error','webpackJsonp','./assets/fbx/Soldier.fbx','abs','mouse','object','keydown-W','cinematic','uniforms','ToonPhShaderPackage','defines','Scene3D','pointerdown','setAngularVelocityY','hookToMethod','locked','enable3d','keyboard','Vector2','keyup-A','get','start','movementX','animations','accessThirdDimension','load','setRenderTarget','applyAxisAngle','Pass','Scale','near','material','scene','directionalLight','default','keyup-W','createOutlinePostProcessMaterial','dispose','addEventListener','defineProperty','controls','hemisphereLight','getWorldDirection','Canvas','worldLights','push','shift','far','call','map','__setModuleDefault','ExtendedObject3D','ShaderReplacement','vertexShader','addPass','updateUniforms','model','reset','\x0avarying\x20vec2\x20vUv;\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vUv\x20=\x20uv;\x0a\x20\x20\x20\x20gl_Position\x20=\x20projectionMatrix\x20*\x20modelViewMatrix\x20*\x20vec4(position,\x201.0);\x0a}\x0a','animationMixers','Module','hasOwnProperty','replace','ShaderReplacement\x20:\x20Material\x20for\x20object\x20was\x20not\x20cached\x20before\x20resetting.','texture','scale','Color','slice','CENTER_BOTH','modifiedDefines','renderToScreen','exports','phong','done','pointermove','mountCamera','initialized','ApplyToonShader','side','movementY','ShaderLib','third','clone','normal','init','camera','.fbx','render','_replacementMaterial','innerHeight','animationMixer','innerWidth','resolution','__importDefault','SHIFT','/Coursework-Project-Computer-Graphics/','keydown-S','bind','keyup-S','setMaterialDefine','create','isMesh','anims','createMaterial','Idle','withPhysics','box','onBeforeCompile','renderer','overrideDefines','forEach','flatShading','depthTexture','shaderQuad','ThirdPersonControls','existing','setVelocity','intensity','FullScreenQuad','WEBGL','isTexture','delete','isDown','setDefine','normalTexture','modifiedUniforms','isArray','originalTexture','spawnPlayer','next','position','ambientLight','ShaderReplacement\x20:\x20Material\x20for\x20object\x20was\x20not\x20cached\x20before\x20replacing\x20shader.','input','__esModule','throw','__awaiter','dispatchEvent','FXAAShader','ShaderMaterial','update','prevMouse','_replacementMaterials','MainScene','set','./assets/fbx/Soldier/','apply','keydown-C','keydown-D','normalRenderingTarget','skinning','RenderPass','Scene','assign','key_shift','needsUpdate','has','Vector3','opacity','string','depthBuffer','roughnessMap','finalize','THREE','value','traverse','WebGLRenderTarget','composer','toStringTag','current','isSkinnedMesh','warpSpeed','\x0a//\x20<packing>\x20comes\x20from\x20threejs\x20and\x20we\x20are\x20using\x20its\x20perspectiveDepthToViewZ\x20and\x20viewZToOrthographicDepth\x20functions.\x0a//\x20This\x20will\x20ensure\x20it\x20easily\x20works\x20within\x20the\x20threejs\x20ecosystem.\x20(As\x20opposed\x20to\x20writing\x20our\x20own\x20functions)\x0a#include\x20<packing>\x0auniform\x20sampler2D\x20originalTexture;\x0auniform\x20sampler2D\x20depthTexture;\x0auniform\x20sampler2D\x20normalTexture;\x0auniform\x20float\x20cameraNear;\x0auniform\x20float\x20cameraFar;\x0auniform\x20vec4\x20screenSize;\x0auniform\x20vec3\x20outlineColor;\x0avarying\x20vec2\x20vUv;\x0a\x0a//\x20Function\x20prototypes\x0afloat\x20saturate(float\x20num);\x0afloat\x20depthAt(int\x20x,\x20int\x20y);\x0avec3\x20normalAt(int\x20x,\x20int\x20y);\x0a\x0avoid\x20main()\x20{\x0a\x09vec4\x20sceneColor\x20=\x20texture2D(originalTexture,\x20vUv);\x0a\x09float\x20depth\x20=\x20depthAt(0,\x200);\x0a\x09vec3\x20normal\x20=\x20normalAt(0,\x200);\x0a\x0a\x09//\x20Get\x20the\x20difference\x20between\x20depth\x20of\x20neighboring\x20pixels\x20and\x20current.\x0a\x09float\x20depthDiff\x20=\x200.0;\x0a\x09depthDiff\x20+=\x20abs(depth\x20-\x20depthAt(1,\x200));\x0a\x09depthDiff\x20+=\x20abs(depth\x20-\x20depthAt(-1,\x200));\x0a\x09depthDiff\x20+=\x20abs(depth\x20-\x20depthAt(0,\x201));\x0a\x09depthDiff\x20+=\x20abs(depth\x20-\x20depthAt(0,\x20-1));\x0a\x0a\x09//\x20Get\x20the\x20difference\x20between\x20normals\x20of\x20neighboring\x20pixels\x20and\x20current\x0a\x09float\x20normalDiff\x20=\x200.0;\x0a\x09normalDiff\x20+=\x20distance(normal,\x20normalAt(1,\x200));\x0a\x09normalDiff\x20+=\x20distance(normal,\x20normalAt(0,\x201));\x0a\x09normalDiff\x20+=\x20distance(normal,\x20normalAt(0,\x201));\x0a\x09normalDiff\x20+=\x20distance(normal,\x20normalAt(0,\x20-1));\x0a\x0a\x09normalDiff\x20+=\x20distance(normal,\x20normalAt(1,\x201));\x0a\x09normalDiff\x20+=\x20distance(normal,\x20normalAt(1,\x20-1));\x0a\x09normalDiff\x20+=\x20distance(normal,\x20normalAt(-1,\x201));\x0a\x09normalDiff\x20+=\x20distance(normal,\x20normalAt(-1,\x20-1));\x0a\x0a\x09depthDiff\x20=\x20saturate(depthDiff);\x0a\x09normalDiff\x20=\x20saturate(normalDiff);\x0a\x0a\x0a\x09float\x20outline\x20=\x20normalDiff\x20+\x20depthDiff;\x0a\x09//\x20Combine\x20outline\x20with\x20scene\x20color.\x0a\x09vec4\x20outlineColor\x20=\x20vec4(outlineColor,\x201.0);\x0a\x09gl_FragColor\x20=\x20vec4(mix(sceneColor,\x20outlineColor,\x20outline));\x0a}\x0a\x0afloat\x20saturate(float\x20num)\x20{\x0a\x09return\x20clamp(num,\x200.0,\x201.0);\x0a}\x0a\x0afloat\x20depthAt(int\x20x,\x20int\x20y)\x20{\x0a\x09//\x20Get\x20point\x20from\x20texture\x20coordinates\x20and\x20screen\x20size.\x0a\x09vec2\x20point\x20=\x20vUv\x20+\x20screenSize.zw\x20*\x20vec2(x,\x20y);\x0a\x09//\x20Sample\x20depth\x20texture\x20and\x20get\x20z\x20value.\x0a\x09float\x20fragCoordZ\x20=\x20texture2D(depthTexture,\x20point).x;\x0a\x09//\x20Convert\x20from\x20clip\x20space\x20to\x20view\x20space.\x0a\x09float\x20viewZ\x20=\x20perspectiveDepthToViewZ(\x20fragCoordZ,\x20cameraNear,\x20cameraFar\x20);\x0a\x09//\x20Convert\x20from\x20view\x20space\x20to\x20orthographic\x20depth.\x0a\x09float\x20orthoDepth\x20=\x20viewZToOrthographicDepth(\x20viewZ,\x20cameraNear,\x20cameraFar\x20);\x0a\x09return\x20orthoDepth;\x0a}\x0a\x0avec3\x20normalAt(int\x20x,\x20int\x20y)\x20{\x0a\x09return\x20texture2D(normalTexture,\x20vUv\x20+\x20screenSize.zw\x20*\x20vec2(x,\x20y)).rgb;\x0a}\x0a','Game','add','player','mousePointer','receiveShadow','body','__createBinding','prototype','DrawOutlinePass','mixer','multiplyScalar'];(function(_0x2e3a17,_0x400a63){const _0x5e591e=function(_0x8d20b1){while(--_0x8d20b1){_0x2e3a17['push'](_0x2e3a17['shift']());}};_0x5e591e(++_0x400a63);}(a0_0x400a,0x126));const a0_0x5e59=function(_0x2e3a17,_0x400a63){_0x2e3a17=_0x2e3a17-0x0;let _0x5e591e=a0_0x400a[_0x2e3a17];return _0x5e591e;};!function(_0x3ae90c){function _0x3c39e8(_0x2ee9a8){for(var _0x50567f,_0x51e4b4,_0x5d08c0=_0x2ee9a8[0x0],_0x250fa0=_0x2ee9a8[0x1],_0x186158=_0x2ee9a8[0x2],_0x226a19=0x0,_0xe9a0df=[];_0x226a19<_0x5d08c0[a0_0x5e59('0x5f')];_0x226a19++)_0x51e4b4=_0x5d08c0[_0x226a19],Object[a0_0x5e59('0x56')][a0_0x5e59('0x9f')]['call'](_0x67c528,_0x51e4b4)&&_0x67c528[_0x51e4b4]&&_0xe9a0df['push'](_0x67c528[_0x51e4b4][0x0]),_0x67c528[_0x51e4b4]=0x0;for(_0x50567f in _0x250fa0)Object['prototype'][a0_0x5e59('0x9f')][a0_0x5e59('0x92')](_0x250fa0,_0x50567f)&&(_0x3ae90c[_0x50567f]=_0x250fa0[_0x50567f]);for(_0x301ac1&&_0x301ac1(_0x2ee9a8);_0xe9a0df[a0_0x5e59('0x5f')];)_0xe9a0df[a0_0x5e59('0x90')]()();return _0x5961a7['push'][a0_0x5e59('0x34')](_0x5961a7,_0x186158||[]),_0x410c38();}function _0x410c38(){for(var _0x94c98d,_0x4a1f7c=0x0;_0x4a1f7c<_0x5961a7[a0_0x5e59('0x5f')];_0x4a1f7c++){for(var _0x244e67=_0x5961a7[_0x4a1f7c],_0x1c269e=!0x0,_0x336a6d=0x1;_0x336a6d<_0x244e67['length'];_0x336a6d++){var _0x54b6a5=_0x244e67[_0x336a6d];0x0!==_0x67c528[_0x54b6a5]&&(_0x1c269e=!0x1);}_0x1c269e&&(_0x5961a7[a0_0x5e59('0x5b')](_0x4a1f7c--,0x1),_0x94c98d=_0x44f7f5(_0x44f7f5['s']=_0x244e67[0x0]));}return _0x94c98d;}var _0x16b404={},_0x67c528={0:0x0},_0x5961a7=[];function _0x44f7f5(_0x5c17cc){if(_0x16b404[_0x5c17cc])return _0x16b404[_0x5c17cc][a0_0x5e59('0xa9')];var _0x47676a=_0x16b404[_0x5c17cc]={'i':_0x5c17cc,'l':!0x1,'exports':{}};return _0x3ae90c[_0x5c17cc][a0_0x5e59('0x92')](_0x47676a[a0_0x5e59('0xa9')],_0x47676a,_0x47676a[a0_0x5e59('0xa9')],_0x44f7f5),_0x47676a['l']=!0x0,_0x47676a['exports'];}_0x44f7f5['m']=_0x3ae90c,_0x44f7f5['c']=_0x16b404,_0x44f7f5['d']=function(_0x4dfdf9,_0x168fbe,_0x1956ff){_0x44f7f5['o'](_0x4dfdf9,_0x168fbe)||Object['defineProperty'](_0x4dfdf9,_0x168fbe,{'enumerable':!0x0,'get':_0x1956ff});},_0x44f7f5['r']=function(_0x2d5e8a){a0_0x5e59('0x5a')!=typeof Symbol&&Symbol[a0_0x5e59('0x4a')]&&Object[a0_0x5e59('0x89')](_0x2d5e8a,Symbol[a0_0x5e59('0x4a')],{'value':a0_0x5e59('0x9e')}),Object[a0_0x5e59('0x89')](_0x2d5e8a,a0_0x5e59('0x28'),{'value':!0x0});},_0x44f7f5['t']=function(_0x500f3e,_0x10faef){if(0x1&_0x10faef&&(_0x500f3e=_0x44f7f5(_0x500f3e)),0x8&_0x10faef)return _0x500f3e;if(0x4&_0x10faef&&a0_0x5e59('0x67')==typeof _0x500f3e&&_0x500f3e&&_0x500f3e['__esModule'])return _0x500f3e;var _0x45031f=Object[a0_0x5e59('0x6')](null);if(_0x44f7f5['r'](_0x45031f),Object[a0_0x5e59('0x89')](_0x45031f,a0_0x5e59('0x84'),{'enumerable':!0x0,'value':_0x500f3e}),0x2&_0x10faef&&a0_0x5e59('0x41')!=typeof _0x500f3e)for(var _0x3c7b14 in _0x500f3e)_0x44f7f5['d'](_0x45031f,_0x3c7b14,function(_0x21baac){return _0x500f3e[_0x21baac];}['bind'](null,_0x3c7b14));return _0x45031f;},_0x44f7f5['n']=function(_0xabf4e9){var _0x25c015=_0xabf4e9&&_0xabf4e9[a0_0x5e59('0x28')]?function(){return _0xabf4e9[a0_0x5e59('0x84')];}:function(){return _0xabf4e9;};return _0x44f7f5['d'](_0x25c015,'a',_0x25c015),_0x25c015;},_0x44f7f5['o']=function(_0x83a7ec,_0x26c26a){return Object[a0_0x5e59('0x56')][a0_0x5e59('0x9f')][a0_0x5e59('0x92')](_0x83a7ec,_0x26c26a);},_0x44f7f5['p']=a0_0x5e59('0x1');var _0x54afea=window[a0_0x5e59('0x63')]=window[a0_0x5e59('0x63')]||[],_0x27969f=_0x54afea[a0_0x5e59('0x8f')][a0_0x5e59('0x3')](_0x54afea);_0x54afea[a0_0x5e59('0x8f')]=_0x3c39e8,_0x54afea=_0x54afea[a0_0x5e59('0xa5')]();for(var _0x50b7f0=0x0;_0x50b7f0<_0x54afea['length'];_0x50b7f0++)_0x3c39e8(_0x54afea[_0x50b7f0]);var _0x301ac1=_0x27969f;_0x5961a7[a0_0x5e59('0x8f')]([0x6,0x1]),_0x410c38();}([,,,,,,function(_0x1bd38c,_0x4b6b08,_0x40d984){_0x1bd38c[a0_0x5e59('0xa9')]=_0x40d984(0x7);},function(_0x309879,_0x5c6c48,_0x20b917){'use strict';var _0x221904=this&&this[a0_0x5e59('0x55')]||(Object[a0_0x5e59('0x6')]?function(_0x2d2094,_0x2cad5c,_0x309f63,_0x242194){void 0x0===_0x242194&&(_0x242194=_0x309f63),Object[a0_0x5e59('0x89')](_0x2d2094,_0x242194,{'enumerable':!0x0,'get':function(){return _0x2cad5c[_0x309f63];}});}:function(_0x555820,_0x20faff,_0x49917d,_0x59e670){void 0x0===_0x59e670&&(_0x59e670=_0x49917d),_0x555820[_0x59e670]=_0x20faff[_0x49917d];}),_0x1e6451=this&&this['__setModuleDefault']||(Object[a0_0x5e59('0x6')]?function(_0x1c0a74,_0x1c5679){Object[a0_0x5e59('0x89')](_0x1c0a74,'default',{'enumerable':!0x0,'value':_0x1c5679});}:function(_0x11c814,_0x1c3438){_0x11c814[a0_0x5e59('0x84')]=_0x1c3438;}),_0x42867c=this&&this['__importStar']||function(_0x52034f){if(_0x52034f&&_0x52034f[a0_0x5e59('0x28')])return _0x52034f;var _0x1f764c={};if(null!=_0x52034f)for(var _0x5f5c8b in _0x52034f)a0_0x5e59('0x84')!==_0x5f5c8b&&Object[a0_0x5e59('0x9f')][a0_0x5e59('0x92')](_0x52034f,_0x5f5c8b)&&_0x221904(_0x1f764c,_0x52034f,_0x5f5c8b);return _0x1e6451(_0x1f764c,_0x52034f),_0x1f764c;},_0x3e8e7c=this&&this['__importDefault']||function(_0x3300e5){return _0x3300e5&&_0x3300e5[a0_0x5e59('0x28')]?_0x3300e5:{'default':_0x3300e5};};Object['defineProperty'](_0x5c6c48,a0_0x5e59('0x28'),{'value':!0x0});const _0x13a736=_0x42867c(_0x20b917(0x5)),_0x10a400=_0x20b917(0x4),_0x5696be=_0x3e8e7c(_0x20b917(0xc)),_0x1b4114=_0x3e8e7c(_0x20b917(0x13)),_0x55e101=Object[a0_0x5e59('0x3b')]({'type':_0x13a736[a0_0x5e59('0x19')],'transparent':!0x0,'scale':{'mode':_0x13a736[a0_0x5e59('0x7f')]['FIT'],'autoCenter':_0x13a736[a0_0x5e59('0x7f')][a0_0x5e59('0xa6')],'width':0x500,'height':0x2d0},'scene':[_0x1b4114[a0_0x5e59('0x84')],_0x5696be[a0_0x5e59('0x84')]]},_0x10a400[a0_0x5e59('0x8d')]({'canvasId':'phaser-game'}));window[a0_0x5e59('0x88')](a0_0x5e59('0x7b'),()=>{_0x10a400[a0_0x5e59('0x72')](()=>new _0x13a736[(a0_0x5e59('0x4f'))](_0x55e101))[a0_0x5e59('0xb')]('/assets/ammo');});},,,,,function(_0x81783d,_0x46b7a1,_0x27ff3a){'use strict';var _0xe19fa1=this&&this[a0_0x5e59('0x2a')]||function(_0x24b2c6,_0x36b9fb,_0x428f13,_0x59a01b){return new(_0x428f13||(_0x428f13=Promise))(function(_0x997638,_0xe160d0){function _0x525635(_0x174b55){try{_0x58bed3(_0x59a01b['next'](_0x174b55));}catch(_0x16e8e4){_0xe160d0(_0x16e8e4);}}function _0x1c546d(_0x47aa8d){try{_0x58bed3(_0x59a01b[a0_0x5e59('0x29')](_0x47aa8d));}catch(_0x53c007){_0xe160d0(_0x53c007);}}function _0x58bed3(_0x5127f1){var _0x27a994;_0x5127f1['done']?_0x997638(_0x5127f1['value']):(_0x27a994=_0x5127f1[a0_0x5e59('0x46')],_0x27a994 instanceof _0x428f13?_0x27a994:new _0x428f13(function(_0xbf0a9f){_0xbf0a9f(_0x27a994);}))['then'](_0x525635,_0x1c546d);}_0x58bed3((_0x59a01b=_0x59a01b[a0_0x5e59('0x34')](_0x24b2c6,_0x36b9fb||[]))[a0_0x5e59('0x23')]());});},_0x548d06=this&&this[a0_0x5e59('0xbf')]||function(_0xac0ac7){return _0xac0ac7&&_0xac0ac7['__esModule']?_0xac0ac7:{'default':_0xac0ac7};};Object[a0_0x5e59('0x89')](_0x46b7a1,a0_0x5e59('0x28'),{'value':!0x0});const _0x2aa4dd=_0x27ff3a(0x4),_0x1bf9d9=_0x27ff3a(0x15),_0x3b52e1=_0x27ff3a(0xd),_0x1e4301=_0x27ff3a(0x10),_0x20fd06=_0x27ff3a(0x11),_0x5020cf=_0x27ff3a(0x0),_0xcac82b=_0x548d06(_0x27ff3a(0x12));class _0x274576 extends _0x2aa4dd[a0_0x5e59('0x6d')]{constructor(){super({'key':a0_0x5e59('0x31')}),this[a0_0x5e59('0x2f')]=null,this['controls']=null,this[a0_0x5e59('0x51')]=null,this[a0_0x5e59('0x3c')]=null,this['cinematic']=!0x1;}[a0_0x5e59('0xb6')](){this[a0_0x5e59('0x7a')]();}['create'](){return _0xe19fa1(this,void 0x0,void 0x0,function*(){this[a0_0x5e59('0x27')]['on'](a0_0x5e59('0x6e'),_0x2f0e48=>{this[a0_0x5e59('0x27')][a0_0x5e59('0x66')]['requestPointerLock']();}),this[a0_0x5e59('0x3c')]=this['input'][a0_0x5e59('0x73')]['addKey'](a0_0x5e59('0x0')),this[a0_0x5e59('0x27')][a0_0x5e59('0x73')]['on'](a0_0x5e59('0x35'),()=>{this['cinematic']=!this[a0_0x5e59('0x69')];});const {lights:_0x5641b8}=yield this['third'][a0_0x5e59('0x4d')]();this['worldLights']=_0x5641b8,this[a0_0x5e59('0x8e')][a0_0x5e59('0x25')][a0_0x5e59('0x17')]=0.2,this['worldLights'][a0_0x5e59('0x8b')]['intensity']=0.5,this[a0_0x5e59('0x8e')][a0_0x5e59('0x83')][a0_0x5e59('0x17')]=0x2;const _0x437b13=new _0x2aa4dd['THREE']['DepthTexture'](window['innerWidth'],window[a0_0x5e59('0xbb')]),_0x27928e=new _0x2aa4dd[(a0_0x5e59('0x45'))][(a0_0x5e59('0x48'))](window['innerWidth'],window['innerHeight'],{'depthTexture':_0x437b13,'depthBuffer':!0x0});this[a0_0x5e59('0xb3')][a0_0x5e59('0x49')]=new _0x2aa4dd['EffectComposer'](this[a0_0x5e59('0xb3')][a0_0x5e59('0xe')],_0x27928e);const _0x14c502=new _0x2aa4dd[(a0_0x5e59('0x39'))](this[a0_0x5e59('0xb3')][a0_0x5e59('0x82')],this[a0_0x5e59('0xb3')][a0_0x5e59('0xb7')]);this['third'][a0_0x5e59('0x49')][a0_0x5e59('0x98')](_0x14c502);const _0xc48fb2=new _0x3b52e1['DrawOutlinePass'](new _0x2aa4dd['THREE'][(a0_0x5e59('0x74'))](window[a0_0x5e59('0xbd')],window['innerHeight']),this[a0_0x5e59('0xb3')]['scene'],this[a0_0x5e59('0xb3')]['camera']);this['third'][a0_0x5e59('0x49')][a0_0x5e59('0x98')](_0xc48fb2);const _0x203f5f=new _0x2aa4dd['ShaderPass'](_0x1e4301[a0_0x5e59('0x2c')]);_0x203f5f[a0_0x5e59('0x6a')]['resolution'][a0_0x5e59('0x46')][a0_0x5e59('0x32')](0x1/window[a0_0x5e59('0xbd')],0x1/window[a0_0x5e59('0xbb')]),this[a0_0x5e59('0xb3')][a0_0x5e59('0x49')]['addPass'](_0x203f5f);const _0x2830c6=yield this[a0_0x5e59('0x22')](0x0,0x2,-0x5,!0x0);this[a0_0x5e59('0x51')]=_0x2830c6;this[a0_0x5e59('0x27')]['keyboard']['on'](a0_0x5e59('0x68'),()=>{let _0x3801be=new _0x5020cf[(a0_0x5e59('0x3f'))]();this[a0_0x5e59('0xb3')]['camera'][a0_0x5e59('0x8c')](_0x3801be);const _0x490faa=_0x3801be['multiplyScalar'](0x5);_0x2830c6[a0_0x5e59('0x54')]['setVelocity'](_0x490faa['x'],0x0,_0x490faa['z']),'Walk'!=_0x2830c6[a0_0x5e59('0x8')][a0_0x5e59('0x4b')]&&_0x2830c6[a0_0x5e59('0x8')]['play']('Walk');}),this[a0_0x5e59('0x27')]['keyboard']['on'](a0_0x5e59('0x85'),()=>{_0x2830c6[a0_0x5e59('0x54')][a0_0x5e59('0x16')](0x0,0x0,0x0),a0_0x5e59('0xa')!=_0x2830c6[a0_0x5e59('0x8')][a0_0x5e59('0x4b')]&&_0x2830c6[a0_0x5e59('0x8')]['play'](a0_0x5e59('0xa'));}),this['input'][a0_0x5e59('0x73')]['on']('keydown-A',()=>{let _0x1288c9=new _0x5020cf[(a0_0x5e59('0x3f'))]();this['third'][a0_0x5e59('0xb7')][a0_0x5e59('0x8c')](_0x1288c9);const _0x354537=_0x1288c9[a0_0x5e59('0x7d')](new _0x5020cf[(a0_0x5e59('0x3f'))](0x0,0x1,0x0),Math['PI']/0x2)['multiplyScalar'](0x5);_0x2830c6[a0_0x5e59('0x54')][a0_0x5e59('0x16')](_0x354537['x'],0x0,_0x354537['z']);}),this['input'][a0_0x5e59('0x73')]['on'](a0_0x5e59('0x75'),()=>{_0x2830c6[a0_0x5e59('0x54')][a0_0x5e59('0x16')](0x0,0x0,0x0);}),this[a0_0x5e59('0x27')]['keyboard']['on'](a0_0x5e59('0x2'),()=>{let _0xb99dd9=new _0x5020cf[(a0_0x5e59('0x3f'))]();this['third'][a0_0x5e59('0xb7')]['getWorldDirection'](_0xb99dd9);const _0x152a19=_0xb99dd9[a0_0x5e59('0x59')](-2.5);_0x2830c6[a0_0x5e59('0x54')][a0_0x5e59('0x16')](_0x152a19['x'],0x0,_0x152a19['z']);}),this[a0_0x5e59('0x27')][a0_0x5e59('0x73')]['on'](a0_0x5e59('0x4'),()=>{_0x2830c6[a0_0x5e59('0x54')]['setVelocity'](0x0,0x0,0x0);}),this[a0_0x5e59('0x27')][a0_0x5e59('0x73')]['on'](a0_0x5e59('0x36'),()=>{let _0x5e25ce=new _0x5020cf[(a0_0x5e59('0x3f'))]();this['third'][a0_0x5e59('0xb7')][a0_0x5e59('0x8c')](_0x5e25ce);const _0x4dd084=_0x5e25ce[a0_0x5e59('0x7d')](new _0x5020cf[(a0_0x5e59('0x3f'))](0x0,0x1,0x0),-Math['PI']/0x2)[a0_0x5e59('0x59')](0x5);_0x2830c6[a0_0x5e59('0x54')][a0_0x5e59('0x16')](_0x4dd084['x'],0x0,_0x4dd084['z']);}),this['input']['keyboard']['on']('keyup-D',()=>{_0x2830c6['body']['setVelocity'](0x0,0x0,0x0);}),this[a0_0x5e59('0x51')]&&(this[a0_0x5e59('0x8a')]=this[a0_0x5e59('0x51')][a0_0x5e59('0xad')]()),this[a0_0x5e59('0x27')]['on'](a0_0x5e59('0xac'),_0x19a199=>{var _0x10db46,_0x4ac688,_0x5650df;if(_0x19a199[a0_0x5e59('0x71')])null===(_0x10db46=this[a0_0x5e59('0x8a')])||void 0x0===_0x10db46||_0x10db46[a0_0x5e59('0x2e')](_0x19a199[a0_0x5e59('0x78')],_0x19a199[a0_0x5e59('0xb1')]);else if(this[a0_0x5e59('0x2f')]&&(null===(_0x4ac688=this['key_shift'])||void 0x0===_0x4ac688?void 0x0:_0x4ac688[a0_0x5e59('0x1c')])){const _0x56c875=_0x19a199['x']-this['prevMouse']['x'],_0x2d99f2=_0x19a199['y']-this[a0_0x5e59('0x2f')]['y'];null===(_0x5650df=this[a0_0x5e59('0x8a')])||void 0x0===_0x5650df||_0x5650df[a0_0x5e59('0x2e')](_0x56c875,_0x2d99f2);}this[a0_0x5e59('0x2f')]={'x':_0x19a199['x'],'y':_0x19a199['y']};}),_0x20fd06['hookToMethod'](_0x2830c6[a0_0x5e59('0xbc')],a0_0x5e59('0x2e'),()=>{_0x2830c6[a0_0x5e59('0x47')](_0x1cbcbb=>{_0x1cbcbb[a0_0x5e59('0x7')];});});});}[a0_0x5e59('0x2e')](){var _0x473e29;this['controls']&&this[a0_0x5e59('0x8a')]['update'](0x0,0x0),this[a0_0x5e59('0x27')][a0_0x5e59('0x52')][a0_0x5e59('0x71')]&&!this[a0_0x5e59('0x69')]&&(null===(_0x473e29=this['player'])||void 0x0===_0x473e29||_0x473e29['update']());}[a0_0x5e59('0x22')](_0x2f1c51,_0xa34234,_0x45b0eb,_0x3f2f7a){return _0xe19fa1(this,void 0x0,void 0x0,function*(){const _0x2da638=new _0xcac82b[(a0_0x5e59('0x84'))](this,!0x1);return yield _0x2da638[a0_0x5e59('0x7b')](),_0x2da638[a0_0x5e59('0x8')]['play'](a0_0x5e59('0xa')),_0x2da638[a0_0x5e59('0x47')](_0x59d140=>{_0x59d140[a0_0x5e59('0x7')]&&_0x3f2f7a&&_0x1bf9d9[a0_0x5e59('0xaf')](_0x59d140,0x4);}),_0x2da638[a0_0x5e59('0x47')](_0xad8cf9=>{_0xad8cf9[a0_0x5e59('0x7')]&&(_0xad8cf9['castShadow']=_0xad8cf9[a0_0x5e59('0x53')]=!0x0);}),_0x2da638[a0_0x5e59('0xa3')][a0_0x5e59('0x32')](0.03,0.03,0.03),_0x2da638[a0_0x5e59('0x24')][a0_0x5e59('0x32')](_0x2f1c51,_0xa34234,_0x45b0eb),this['third'][a0_0x5e59('0x50')][a0_0x5e59('0x15')](_0x2da638),this[a0_0x5e59('0xb3')]['physics'][a0_0x5e59('0x50')][a0_0x5e59('0x15')](_0x2da638,{'shape':a0_0x5e59('0xc'),'width':0x32,'height':0xa0,'depth':0x32,'offset':{'x':0x0,'y':-2.5,'z':0x0},'mass':0x3e8}),_0x2da638;});}}_0x46b7a1[a0_0x5e59('0x84')]=_0x274576;},function(_0x1c8c96,_0x55f13d,_0x45f9f2){'use strict';var _0x3e6048=this&&this[a0_0x5e59('0x55')]||(Object[a0_0x5e59('0x6')]?function(_0x27c838,_0x3e97cf,_0x6f9b6d,_0x583a15){void 0x0===_0x583a15&&(_0x583a15=_0x6f9b6d),Object[a0_0x5e59('0x89')](_0x27c838,_0x583a15,{'enumerable':!0x0,'get':function(){return _0x3e97cf[_0x6f9b6d];}});}:function(_0x26518e,_0x58cffa,_0x3e8df0,_0x2adc9a){void 0x0===_0x2adc9a&&(_0x2adc9a=_0x3e8df0),_0x26518e[_0x2adc9a]=_0x58cffa[_0x3e8df0];}),_0xeb6716=this&&this[a0_0x5e59('0x94')]||(Object['create']?function(_0x291386,_0x571ce8){Object[a0_0x5e59('0x89')](_0x291386,a0_0x5e59('0x84'),{'enumerable':!0x0,'value':_0x571ce8});}:function(_0x3d62fa,_0x3d207e){_0x3d62fa['default']=_0x3d207e;}),_0x1af1a5=this&&this['__importStar']||function(_0x4dcbbe){if(_0x4dcbbe&&_0x4dcbbe['__esModule'])return _0x4dcbbe;var _0x6ec4c2={};if(null!=_0x4dcbbe)for(var _0xe943f0 in _0x4dcbbe)a0_0x5e59('0x84')!==_0xe943f0&&Object['hasOwnProperty'][a0_0x5e59('0x92')](_0x4dcbbe,_0xe943f0)&&_0x3e6048(_0x6ec4c2,_0x4dcbbe,_0xe943f0);return _0xeb6716(_0x6ec4c2,_0x4dcbbe),_0x6ec4c2;},_0x293433=this&&this['__importDefault']||function(_0x2563d9){return _0x2563d9&&_0x2563d9[a0_0x5e59('0x28')]?_0x2563d9:{'default':_0x2563d9};};Object[a0_0x5e59('0x89')](_0x55f13d,'__esModule',{'value':!0x0}),_0x55f13d['DrawOutlinePass']=void 0x0;const _0x4e3991=_0x1af1a5(_0x45f9f2(0x0)),_0x196035=_0x45f9f2(0x0),_0x5ab1d1=_0x45f9f2(0x2),_0x3f7710=_0x45f9f2(0x14),_0x1d2376=_0x293433(_0x45f9f2(0xe)),_0x3d0af=_0x293433(_0x45f9f2(0xf));class _0x1207b1 extends _0x5ab1d1['Pass']{constructor(_0x197366,_0x594afd,_0x864ee3){super(),this[a0_0x5e59('0x42')]=null,this[a0_0x5e59('0x82')]=_0x594afd,this[a0_0x5e59('0xb7')]=_0x864ee3,this[a0_0x5e59('0xbe')]=new _0x4e3991['Vector2'](_0x197366['x'],_0x197366['y']),this[a0_0x5e59('0x13')]=new _0x5ab1d1[(a0_0x5e59('0x7e'))][(a0_0x5e59('0x18'))](),this['shaderQuad']['material']=this[a0_0x5e59('0x86')](),this[a0_0x5e59('0x37')]=new _0x4e3991['WebGLRenderTarget'](this[a0_0x5e59('0xbe')]['x'],this[a0_0x5e59('0xbe')]['y']);}[a0_0x5e59('0x87')](){this[a0_0x5e59('0x37')][a0_0x5e59('0x87')](),this[a0_0x5e59('0x13')][a0_0x5e59('0x87')]();}[a0_0x5e59('0xb9')](_0x1be5a5,_0x543372,_0x26d472){this['toggleDepthBufferWriting'](_0x543372),_0x1be5a5[a0_0x5e59('0x7c')](this[a0_0x5e59('0x37')]);const _0x5eb07b=new _0x3f7710[(a0_0x5e59('0x96'))](_0x196035['ShaderLib'][a0_0x5e59('0xb5')]);_0x5eb07b[a0_0x5e59('0xa0')](this[a0_0x5e59('0x82')],!0x0,!0x0),_0x1be5a5[a0_0x5e59('0xb9')](this[a0_0x5e59('0x82')],this[a0_0x5e59('0xb7')]),_0x5eb07b[a0_0x5e59('0x9b')](this['scene'],!0x0),this['shaderQuad'][a0_0x5e59('0x81')][a0_0x5e59('0x6a')][a0_0x5e59('0x12')]['value']=_0x26d472[a0_0x5e59('0x12')],this[a0_0x5e59('0x13')][a0_0x5e59('0x81')][a0_0x5e59('0x6a')][a0_0x5e59('0x1e')][a0_0x5e59('0x46')]=this[a0_0x5e59('0x37')][a0_0x5e59('0xa2')],this[a0_0x5e59('0x13')][a0_0x5e59('0x81')]['uniforms'][a0_0x5e59('0x21')][a0_0x5e59('0x46')]=_0x26d472['texture'],this[a0_0x5e59('0xa8')]?(_0x1be5a5['setRenderTarget'](null),this[a0_0x5e59('0x13')][a0_0x5e59('0xb9')](_0x1be5a5)):(_0x1be5a5[a0_0x5e59('0x7c')](_0x543372),this[a0_0x5e59('0x13')][a0_0x5e59('0xb9')](_0x1be5a5)),this[a0_0x5e59('0x61')](_0x543372);}[a0_0x5e59('0x61')](_0x28c3db){_0x28c3db['depthBuffer']?(this[a0_0x5e59('0x42')]=_0x28c3db[a0_0x5e59('0x42')],_0x28c3db[a0_0x5e59('0x42')]=!0x1):(_0x28c3db[a0_0x5e59('0x42')]=this[a0_0x5e59('0x42')],this['depthBuffer']=null);}[a0_0x5e59('0x86')](){return new _0x4e3991[(a0_0x5e59('0x2d'))]({'uniforms':{'originalTexture':{'value':null},'depthTexture':{'value':null},'normalTexture':{'value':null},'outlineColor':{'value':new _0x4e3991[(a0_0x5e59('0xa4'))](0x0)},'cameraNear':{'value':this[a0_0x5e59('0xb7')][a0_0x5e59('0x80')]},'cameraFar':{'value':this[a0_0x5e59('0xb7')][a0_0x5e59('0x91')]},'screenSize':{'value':new _0x4e3991['Vector4'](this[a0_0x5e59('0xbe')]['x'],this[a0_0x5e59('0xbe')]['y'],0x1/this[a0_0x5e59('0xbe')]['x'],0x1/this[a0_0x5e59('0xbe')]['y'])}},'vertexShader':_0x3d0af[a0_0x5e59('0x84')],'fragmentShader':_0x1d2376[a0_0x5e59('0x84')]});}}_0x55f13d[a0_0x5e59('0x57')]=_0x1207b1;},function(_0x1777d7,_0x137fdf,_0x39df6a){'use strict';_0x39df6a['r'](_0x137fdf),_0x137fdf[a0_0x5e59('0x84')]=a0_0x5e59('0x4e');},function(_0x3a4d97,_0x384d57,_0x4703c8){'use strict';_0x4703c8['r'](_0x384d57),_0x384d57[a0_0x5e59('0x84')]=a0_0x5e59('0x9c');},,function(_0x3dc76b,_0x5f2333,_0x5f2e9f){'use strict';Object[a0_0x5e59('0x89')](_0x5f2333,'__esModule',{'value':!0x0}),_0x5f2333['hookToMethod']=void 0x0,_0x5f2333[a0_0x5e59('0x70')]=function(_0xe12d68,_0x597be0,_0x5c4d7b){const _0x27678c=_0xe12d68[_0x597be0];_0xe12d68[_0x597be0]=function(..._0x576828){return _0x5c4d7b[a0_0x5e59('0x92')](this,..._0x576828),_0x27678c[a0_0x5e59('0x92')](this,..._0x576828);};};},function(_0x3ba1ec,_0x449630,_0x25b5bf){'use strict';var _0x56f7af=this&&this[a0_0x5e59('0x2a')]||function(_0x23175c,_0x1b52d7,_0x36ff1f,_0x1337d1){return new(_0x36ff1f||(_0x36ff1f=Promise))(function(_0x59324d,_0x5c5cda){function _0x4d145c(_0x51f59c){try{_0x1848a3(_0x1337d1['next'](_0x51f59c));}catch(_0x214a04){_0x5c5cda(_0x214a04);}}function _0x393233(_0x2398f3){try{_0x1848a3(_0x1337d1[a0_0x5e59('0x29')](_0x2398f3));}catch(_0x1ad7f0){_0x5c5cda(_0x1ad7f0);}}function _0x1848a3(_0x266d94){var _0x161b96;_0x266d94[a0_0x5e59('0xab')]?_0x59324d(_0x266d94[a0_0x5e59('0x46')]):(_0x161b96=_0x266d94[a0_0x5e59('0x46')],_0x161b96 instanceof _0x36ff1f?_0x161b96:new _0x36ff1f(function(_0x1e60e2){_0x1e60e2(_0x161b96);}))[a0_0x5e59('0x5c')](_0x4d145c,_0x393233);}_0x1848a3((_0x1337d1=_0x1337d1['apply'](_0x23175c,_0x1b52d7||[]))[a0_0x5e59('0x23')]());});};Object[a0_0x5e59('0x89')](_0x449630,a0_0x5e59('0x28'),{'value':!0x0});const _0x23deee=_0x25b5bf(0x4),_0x22ff4a=_0x25b5bf(0x0);class _0x2e56df extends _0x23deee[a0_0x5e59('0x95')]{constructor(_0x1a404d,_0x1592de=!0x0){super(),this['animation_keys']=[a0_0x5e59('0xa'),'Walk'],this[a0_0x5e59('0x8a')]=null,this[a0_0x5e59('0xb7')]=null,this['scene']=_0x1a404d,this['third']=_0x1a404d[a0_0x5e59('0xb3')],_0x1592de&&this[a0_0x5e59('0xb6')]();}[a0_0x5e59('0xb6')](_0xced7f1=!0x0){return _0x56f7af(this,void 0x0,void 0x0,function*(){return yield this[a0_0x5e59('0x7b')](),this[a0_0x5e59('0x2b')]({'type':a0_0x5e59('0xae')}),_0xced7f1&&this['anims']['play'](a0_0x5e59('0xa')),this;});}[a0_0x5e59('0x7b')](){return _0x56f7af(this,void 0x0,void 0x0,function*(){this[a0_0x5e59('0x9a')]=yield this[a0_0x5e59('0xb3')]['load']['fbx'](a0_0x5e59('0x64')),this[a0_0x5e59('0x50')](this['model']),this[a0_0x5e59('0xb3')][a0_0x5e59('0x9d')][a0_0x5e59('0x50')](this[a0_0x5e59('0x8')][a0_0x5e59('0x58')]),this[a0_0x5e59('0x8')]['add'](a0_0x5e59('0xa'),this[a0_0x5e59('0x9a')][a0_0x5e59('0x79')][0x0]);for(let _0x3f6f03 of this['animation_keys'])if(a0_0x5e59('0xa')!==_0x3f6f03){const _0x57672f=yield this[a0_0x5e59('0xb3')][a0_0x5e59('0x7b')]['fbx'](a0_0x5e59('0x33')+_0x3f6f03+a0_0x5e59('0xb8'));this['anims'][a0_0x5e59('0x50')](_0x3f6f03,_0x57672f['animations'][0x0]);}return this[a0_0x5e59('0x9a')];});}[a0_0x5e59('0xad')](_0x16e920=this['third'][a0_0x5e59('0xb7')]){return this['controls']=new _0x23deee[(a0_0x5e59('0x14'))](_0x16e920,this,{'offset':new _0x23deee[(a0_0x5e59('0x45'))][(a0_0x5e59('0x3f'))](-0x2,0x4,0x0),'targetRadius':0x7,'theta':0xb4,'phi':0x19}),this[a0_0x5e59('0xb7')]=_0x16e920,this['controls'];}[a0_0x5e59('0x2e')](){if(this['camera']){let _0x56e129=new _0x22ff4a['Vector3']();this[a0_0x5e59('0xb7')]['getWorldDirection'](_0x56e129);const _0x5937ed=Math[a0_0x5e59('0x5d')](_0x56e129['x'],_0x56e129['z']);this[a0_0x5e59('0x8c')](_0x56e129);let _0x424449=_0x5937ed-Math['atan2'](_0x56e129['x'],_0x56e129['z']);if(Math[a0_0x5e59('0x65')](_0x424449)<0.3)this[a0_0x5e59('0x54')]['setAngularVelocityY'](0x0);else{let _0x491c5d;_0x424449<0x0&&(_0x424449+=0x2*Math['PI']),_0x491c5d=_0x424449<Math['PI']?0x5:-0x5,this[a0_0x5e59('0x54')][a0_0x5e59('0x6f')](_0x491c5d);}}}}_0x449630['default']=_0x2e56df;},function(_0x1b2d6f,_0x392199,_0x1ea1fc){'use strict';Object['defineProperty'](_0x392199,a0_0x5e59('0x28'),{'value':!0x0});class _0x43b9c3 extends Phaser[a0_0x5e59('0x3a')]{constructor(){super({'key':'PreloadScene'});}['preload'](){}[a0_0x5e59('0x6')](){this['scene'][a0_0x5e59('0x77')](a0_0x5e59('0x31'));}}_0x392199[a0_0x5e59('0x84')]=_0x43b9c3;},function(_0x599be7,_0x449611,_0x1532e5){'use strict';_0x1532e5['r'](_0x449611),_0x1532e5['d'](_0x449611,a0_0x5e59('0x5'),function(){return _0x5e4e9e;}),_0x1532e5['d'](_0x449611,'ShaderReplacement',function(){return _0x536f6c;});var _0x42f6b1=_0x1532e5(0x0);class _0x1ab664 extends _0x42f6b1['ShaderMaterial']{constructor(..._0x1942bb){super(..._0x1942bb),[a0_0x5e59('0x40'),a0_0x5e59('0x93'),'emissiveMap',a0_0x5e59('0x43'),'metalnessMap'][a0_0x5e59('0x10')](_0x4dbcaa=>{Object[a0_0x5e59('0x89')](this,_0x4dbcaa,{'get'(){if(_0x4dbcaa in this[a0_0x5e59('0x6a')])return this[a0_0x5e59('0x6a')][_0x4dbcaa]['value'];},'set'(_0x48f260){_0x4dbcaa in this[a0_0x5e59('0x6a')]&&(this[a0_0x5e59('0x6a')][_0x4dbcaa][a0_0x5e59('0x46')]=_0x48f260);}});});}}class _0x293a96 extends _0x1ab664{constructor(..._0x5910f8){super(..._0x5910f8),this[a0_0x5e59('0xa7')]={},this[a0_0x5e59('0x1f')]={};}[a0_0x5e59('0x1d')](_0xde19a,_0x45c8dc){const _0x3c3fc7=this[a0_0x5e59('0x6c')],_0x294c57=this[a0_0x5e59('0xa7')];null==_0x45c8dc?_0xde19a in _0x3c3fc7&&(_0xde19a in _0x294c57||(_0x294c57[_0xde19a]=_0x3c3fc7[_0xde19a]),delete _0x3c3fc7[_0xde19a]):_0x3c3fc7[_0xde19a]!==_0x45c8dc&&(_0xde19a in _0x294c57||(_0x294c57[_0xde19a]=_0xde19a in _0x3c3fc7?_0x3c3fc7[_0xde19a]:void 0x0),_0x3c3fc7[_0xde19a]=_0x45c8dc);}['setTextureUniform'](_0x348fef,_0x5989bd){const _0x1838a7=this[a0_0x5e59('0x6a')],_0x3ab444=this[a0_0x5e59('0x1f')];_0x348fef in _0x3ab444||(_0x3ab444[_0x348fef]=_0x1838a7[_0x348fef][a0_0x5e59('0x46')]),_0x1838a7[_0x348fef]['value']=_0x5989bd;}[a0_0x5e59('0x44')](){const _0x2a0c34=this['modifiedDefines'],_0x13a9e8=this[a0_0x5e59('0x6c')];for(const _0x52c103 in _0x2a0c34)void 0x0===_0x2a0c34[_0x52c103]?_0x52c103 in _0x13a9e8&&(this[a0_0x5e59('0x3d')]=!0x0):_0x13a9e8[_0x52c103]!==_0x2a0c34[_0x52c103]&&(this['needsUpdate']=!0x0),delete _0x2a0c34[_0x52c103];const _0x228bbb=this['modifiedUniforms'],_0x4bda7c=this['uniforms'];for(const _0x931d63 in _0x228bbb)_0x228bbb[_0x931d63]!==_0x4bda7c[_0x931d63][a0_0x5e59('0x46')]&&(this[a0_0x5e59('0x3d')]=!0x0),delete _0x228bbb[_0x931d63];}}function _0x5e4e9e(_0x1c6861,_0x3506a8,_0x48d632){void 0x0===_0x48d632?_0x3506a8 in _0x1c6861[a0_0x5e59('0x6c')]&&(delete _0x1c6861[a0_0x5e59('0x6c')][_0x3506a8],_0x1c6861[a0_0x5e59('0x3d')]=!0x0):_0x48d632!==_0x1c6861[a0_0x5e59('0x6c')][_0x3506a8]&&(_0x1c6861[a0_0x5e59('0x6c')][_0x3506a8]=_0x48d632,_0x1c6861[a0_0x5e59('0x3d')]=!0x0);}const _0x5deaec=new WeakMap();class _0x536f6c{constructor(_0x392d1d){this[a0_0x5e59('0xba')]=new _0x293a96(_0x392d1d),this[a0_0x5e59('0x30')]=new WeakMap(),this['overrideUniforms']={},this[a0_0x5e59('0xf')]={};}[a0_0x5e59('0xa0')](_0x1db86e,_0x448e3f=!0x1,_0x449fda=!0x0){const _0xa72d92=this;function _0x45a520(_0x28caab){if(!_0x28caab['isMesh']&&!_0x28caab[a0_0x5e59('0x4c')])return;if(!_0x29e8e2[a0_0x5e59('0x3e')](_0x28caab)){const _0x2fc73d=_0xa72d92[a0_0x5e59('0x9')](_0x28caab);_0x29e8e2[a0_0x5e59('0x32')](_0x28caab,_0x2fc73d);}const _0x3f7aa0=_0x29e8e2[a0_0x5e59('0x76')](_0x28caab);if(null===_0x3f7aa0)return;let _0xb9aec1=_0x28caab['material'];_0x449fda?_0x11628e[a0_0x5e59('0x32')](_0x28caab,_0xb9aec1):_0xb9aec1=_0x11628e[a0_0x5e59('0x76')](_0x28caab),_0xb9aec1||console[a0_0x5e59('0x62')](a0_0x5e59('0x26'),_0x28caab),_0xa72d92['updateUniforms'](_0x28caab,_0xb9aec1,_0x3f7aa0),_0x3f7aa0[a0_0x5e59('0x44')]&&_0x3f7aa0[a0_0x5e59('0x44')](),_0x28caab[a0_0x5e59('0x81')]=_0x3f7aa0;}const _0x29e8e2=this['_replacementMaterials'],_0x11628e=_0x5deaec;if(Array['isArray'](_0x1db86e))if(_0x448e3f)for(let _0x408938=0x0,_0x2154ce=_0x1db86e['length'];_0x408938<_0x2154ce;_0x408938++)_0x1db86e[_0x408938]['traverse'](_0x45a520);else for(let _0x373fd9=0x0,_0x321761=_0x1db86e[a0_0x5e59('0x5f')];_0x373fd9<_0x321761;_0x373fd9++)_0x45a520(_0x1db86e[_0x373fd9]);else _0x448e3f?_0x1db86e[a0_0x5e59('0x47')](_0x45a520):_0x45a520(_0x1db86e);}[a0_0x5e59('0x9b')](_0x412caa,_0x41b69d){function _0x279545(_0x243cb3){_0x35034b[a0_0x5e59('0x3e')](_0x243cb3)?(_0x243cb3[a0_0x5e59('0x81')]=_0x35034b[a0_0x5e59('0x76')](_0x243cb3),_0x35034b[a0_0x5e59('0x1b')](_0x243cb3)):(_0x243cb3[a0_0x5e59('0x4c')]||_0x243cb3[a0_0x5e59('0x7')])&&console['error'](a0_0x5e59('0xa1'),_0x243cb3);}const _0x35034b=_0x5deaec;if(Array[a0_0x5e59('0x20')](_0x412caa))if(_0x41b69d)for(let _0x46a189=0x0,_0xe1d5d5=_0x412caa['length'];_0x46a189<_0xe1d5d5;_0x46a189++)_0x279545(_0x412caa[_0x46a189]);else for(let _0x529abf=0x0,_0x21d36d=_0x412caa[a0_0x5e59('0x5f')];_0x529abf<_0x21d36d;_0x529abf++)_0x412caa[_0x529abf][a0_0x5e59('0x47')](_0x279545);else _0x41b69d?_0x412caa['traverse'](_0x279545):_0x279545(_0x412caa);}[a0_0x5e59('0x9')](_0x3fff42){return this[a0_0x5e59('0xba')][a0_0x5e59('0xb4')]();}[a0_0x5e59('0x99')](_0x21a785,_0x40c277,_0x1b3cc0){const _0x389364=this[a0_0x5e59('0xba')]['defines'],_0xfc9a91=_0x40c277['defines'],_0x8e3ee=_0x1b3cc0[a0_0x5e59('0x6c')];if(_0x1b3cc0[a0_0x5e59('0xb0')]=_0x40c277[a0_0x5e59('0xb0')],_0x1b3cc0[a0_0x5e59('0x11')]=_0x40c277[a0_0x5e59('0x11')],_0x1b3cc0[a0_0x5e59('0x38')]=_0x40c277[a0_0x5e59('0x38')],_0xfc9a91){for(const _0x3227c9 in _0xfc9a91)_0x1b3cc0[a0_0x5e59('0x1d')](_0x3227c9,_0xfc9a91[_0x3227c9]);for(const _0x371caa in _0x8e3ee)_0x371caa in _0xfc9a91?_0x1b3cc0[a0_0x5e59('0x1d')](_0x371caa,_0xfc9a91[_0x371caa]):_0x1b3cc0[a0_0x5e59('0x1d')](_0x371caa,_0x389364[_0x371caa]);}const _0x337f3b=_0x1b3cc0[a0_0x5e59('0x6a')];if(_0x40c277[a0_0x5e59('0x5e')]){const _0x556428=_0x40c277[a0_0x5e59('0x6a')];for(const _0x4f8c4a in _0x337f3b){const _0x53a7ba=_0x556428[_0x4f8c4a],_0xbe2b90=_0x337f3b[_0x4f8c4a];_0x53a7ba&&_0x53a7ba[a0_0x5e59('0x46')]!==_0xbe2b90[a0_0x5e59('0x46')]&&(_0xbe2b90[a0_0x5e59('0x46')]&&_0xbe2b90[a0_0x5e59('0x46')][a0_0x5e59('0x1a')]||_0x53a7ba[a0_0x5e59('0x46')]&&_0x53a7ba[a0_0x5e59('0x46')][a0_0x5e59('0x1a')]?_0x1b3cc0['setTextureUniform'](_0x4f8c4a,_0x53a7ba[a0_0x5e59('0x46')]):_0xbe2b90['value']=_0x53a7ba[a0_0x5e59('0x46')]);}}else for(const _0x2e71a7 in _0x337f3b){const _0x45a7ea=_0x337f3b[_0x2e71a7];_0x2e71a7 in _0x40c277&&_0x40c277[_0x2e71a7]!==_0x45a7ea['value']&&(_0x45a7ea[a0_0x5e59('0x46')]&&_0x45a7ea[a0_0x5e59('0x46')][a0_0x5e59('0x1a')]||_0x40c277[_0x2e71a7]&&_0x40c277[_0x2e71a7][a0_0x5e59('0x1a')]?_0x1b3cc0['setTextureUniform'](_0x2e71a7,_0x40c277[_0x2e71a7]):_0x45a7ea['value']=_0x40c277[_0x2e71a7]);}const {overrideDefines:_0x212f2c,overrideUniforms:_0x4c15db}=this;for(const _0x3c4b79 in _0x212f2c)null===_0x212f2c[_0x3c4b79]||void 0x0===_0x212f2c[_0x3c4b79]?delete _0x8e3ee[_0x3c4b79]:_0x8e3ee[_0x3c4b79]!==_0x212f2c[_0x3c4b79]&&(_0x8e3ee[_0x3c4b79]=_0x212f2c[_0x3c4b79],_0x1b3cc0['needsUpdate']=!0x0);for(const _0x3d68a9 in _0x4c15db)_0x3d68a9 in _0x337f3b&&(_0x337f3b[_0x3d68a9][a0_0x5e59('0x46')]=_0x4c15db[_0x3d68a9]['value']);}[a0_0x5e59('0x87')](){}}},function(_0x41e07e,_0x2a9af4,_0xc5b228){'use strict';_0xc5b228['r'](_0x2a9af4),_0xc5b228['d'](_0x2a9af4,a0_0x5e59('0xaf'),function(){return _0x2be0c0;}),_0xc5b228['d'](_0x2a9af4,a0_0x5e59('0x6b'),function(){return _0x5b27a4;});var _0x3c6e88=_0xc5b228(0x0),_0x55e644='\x0a#define\x20PHONG\x0auniform\x20vec3\x20diffuse;\x0auniform\x20vec3\x20emissive;\x0auniform\x20vec3\x20specular;\x0auniform\x20float\x20shininess;\x0auniform\x20float\x20opacity;\x0a#include\x20<common>\x0a#include\x20<packing>\x0a#include\x20<dithering_pars_fragment>\x0a#include\x20<color_pars_fragment>\x0a#include\x20<uv_pars_fragment>\x0a#include\x20<uv2_pars_fragment>\x0a#include\x20<map_pars_fragment>\x0a#include\x20<alphamap_pars_fragment>\x0a#include\x20<aomap_pars_fragment>\x0a#include\x20<lightmap_pars_fragment>\x0a#include\x20<emissivemap_pars_fragment>\x0a#include\x20<envmap_common_pars_fragment>\x0a#include\x20<envmap_pars_fragment>\x0a#include\x20<cube_uv_reflection_fragment>\x0a#include\x20<fog_pars_fragment>\x0a#include\x20<bsdfs>\x0a#include\x20<lights_pars_begin>\x0a#include\x20<lights_phong_pars_fragment>\x0a#include\x20<shadowmap_pars_fragment>\x0a#include\x20<bumpmap_pars_fragment>\x0a#include\x20<normalmap_pars_fragment>\x0a#include\x20<specularmap_pars_fragment>\x0a#include\x20<logdepthbuf_pars_fragment>\x0a#include\x20<clipping_planes_pars_fragment>\x0avoid\x20main()\x20{\x0a\x09#include\x20<clipping_planes_fragment>\x0a\x09vec4\x20diffuseColor\x20=\x20vec4(\x20diffuse,\x20opacity\x20);\x0a\x09ReflectedLight\x20reflectedLight\x20=\x20ReflectedLight(\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20),\x20vec3(\x200.0\x20)\x20);\x0a\x09vec3\x20totalEmissiveRadiance\x20=\x20emissive;\x0a\x09#include\x20<logdepthbuf_fragment>\x0a\x09#include\x20<map_fragment>\x0a\x09#include\x20<color_fragment>\x0a\x09#include\x20<alphamap_fragment>\x0a\x09#include\x20<alphatest_fragment>\x0a\x09#include\x20<specularmap_fragment>\x0a\x09#include\x20<normal_fragment_begin>\x0a\x09#include\x20<normal_fragment_maps>\x0a\x09#include\x20<emissivemap_fragment>\x0a\x09#include\x20<lights_phong_fragment>\x0a\x09#include\x20<lights_fragment_begin>\x0a\x09#include\x20<lights_fragment_maps>\x0a\x09#include\x20<lights_fragment_end>\x0a\x09#include\x20<aomap_fragment>\x0a\x09vec3\x20outgoingLight\x20=\x20reflectedLight.directDiffuse\x20+\x20reflectedLight.indirectDiffuse\x20+\x20reflectedLight.directSpecular\x20+\x20reflectedLight.indirectSpecular\x20+\x20totalEmissiveRadiance;\x0a\x09#include\x20<envmap_fragment>\x0a\x09gl_FragColor\x20=\x20vec4(\x20outgoingLight,\x20diffuseColor.a\x20);\x0a\x09#include\x20<tonemapping_fragment>\x0a\x09#include\x20<encodings_fragment>\x0a\x09#include\x20<fog_fragment>\x0a\x09#include\x20<premultiplied_alpha_fragment>\x0a\x09#include\x20<dithering_fragment>\x0a\x0a\x20\x20\x20\x20/**\x20TOON\x20SHADING\x20MODIFICATIONS\x20START\x20HERE\x20************************************************************************/\x0a\x20\x20\x20\x20//\x20Now\x20try\x20to\x20set\x20all\x20colors\x20to\x20some\x20preset\x20magnitudes\x0a\x20\x20\x20\x20vec3\x20before\x20=\x20gl_FragColor.rgb;\x0a\x20\x20\x20\x20//\x20Determine\x20what\x20the\x20thresholds\x20should\x20be\x20based\x20on\x20number\x20of\x20thresholds\x0a\x20\x20\x20\x20//\x20and\x20maximum\x20color\x20intensity\x0a\x20\x20\x20\x20const\x20int\x20numThresholds\x20=\x204;\x0a\x20\x20\x20\x20float\x20maxThreshold\x20=\x20sqrt(3.0);\x0a\x20\x20\x20\x20float\x20minThreshold\x20=\x200.0;\x0a\x20\x20\x20\x20float\x20thresholds[numThresholds];\x0a\x20\x20\x20\x20for\x20(int\x20i\x20=\x200;\x20i\x20<\x20numThresholds;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20thresholds[i]\x20=\x20minThreshold\x20+\x20(maxThreshold\x20-\x20minThreshold)\x20*\x20(float(i)\x20/\x20float(numThresholds\x20-\x201));\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20//\x20Get\x20the\x20magnitude\x20of\x20the\x20color\x0a\x20\x20\x20\x20float\x20mag\x20=\x20length(before);\x0a\x20\x20\x20\x20//\x20Get\x20the\x20index\x20of\x20the\x20threshold\x20that\x20is\x20closest\x20to\x20the\x20magnitude\x0a\x20\x20\x20\x20int\x20index\x20=\x200;\x0a\x20\x20\x20\x20for\x20(int\x20i\x20=\x200;\x20i\x20<\x20numThresholds;\x20i++)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20if\x20(abs(thresholds[i]\x20-\x20mag)\x20<\x20abs(thresholds[index]\x20-\x20mag))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20index\x20=\x20i;\x0a\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20//\x20Scale\x20the\x20color\x20so\x20its\x20magnitude\x20is\x20equal\x20to\x20the\x20threshold\x0a\x20\x20\x20\x20gl_FragColor.rgb\x20=\x20before\x20*\x20(thresholds[index]\x20/\x20mag);\x0a\x20\x20\x20\x20/**\x20TOON\x20SHADING\x20MODIFICATIONS\x20END\x20HERE\x20**************************************************************************/\x0a\x0a}\x0a';function _0x2be0c0(_0x1a956f,_0xd9a935){_0x1a956f[a0_0x5e59('0x81')][a0_0x5e59('0xd')]=_0xd8ae67=>{_0xd8ae67[a0_0x5e59('0x60')]=_0x55e644;};}const _0x5b27a4={'defines':{'PHONG':''},'uniforms':_0x3c6e88[a0_0x5e59('0xb2')][a0_0x5e59('0xaa')][a0_0x5e59('0x6a')],'vertexShader':_0x3c6e88['ShaderLib'][a0_0x5e59('0xaa')][a0_0x5e59('0x97')],'fragmentShader':_0x55e644};}]);